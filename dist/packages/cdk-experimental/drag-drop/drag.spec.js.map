{"version":3,"file":"drag.spec.js","sourceRoot":"","sources":["../../../../src/cdk-experimental/drag-drop/drag.spec.ts"],"names":[],"mappings":"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","sourcesContent":["import {\r\n  AfterViewInit,\r\n  Component,\r\n  ElementRef,\r\n  NgZone,\r\n  Provider,\r\n  QueryList,\r\n  Type,\r\n  ViewChild,\r\n  ViewChildren,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\nimport {TestBed, ComponentFixture, fakeAsync, flush, tick} from '@angular/core/testing';\r\nimport {DragDropModule} from './drag-drop-module';\r\nimport {dispatchMouseEvent, dispatchTouchEvent} from '@angular/cdk/testing';\r\nimport {Directionality} from '@angular/cdk/bidi';\r\nimport {CdkDrag} from './drag';\r\nimport {CdkDragDrop} from './drag-events';\r\nimport {moveItemInArray} from './drag-utils';\r\nimport {CdkDrop} from './drop';\r\nimport {CdkDragHandle} from './drag-handle';\r\n\r\nconst ITEM_HEIGHT = 25;\r\nconst ITEM_WIDTH = 75;\r\n\r\ndescribe('CdkDrag', () => {\r\n  function createComponent<T>(componentType: Type<T>, providers: Provider[] = []):\r\n    ComponentFixture<T> {\r\n    TestBed.configureTestingModule({\r\n      imports: [DragDropModule],\r\n      declarations: [componentType],\r\n      providers,\r\n    }).compileComponents();\r\n\r\n    return TestBed.createComponent<T>(componentType);\r\n  }\r\n\r\n  describe('standalone draggable', () => {\r\n    describe('mouse dragging', () => {\r\n      it('should drag an element freely to a particular position', fakeAsync(() => {\r\n        const fixture = createComponent(StandaloneDraggable);\r\n        fixture.detectChanges();\r\n        const dragElement = fixture.componentInstance.dragElement.nativeElement;\r\n\r\n        expect(dragElement.style.transform).toBeFalsy();\r\n        dragElementViaMouse(fixture, dragElement, 50, 100);\r\n        expect(dragElement.style.transform).toBe('translate3d(50px, 100px, 0px)');\r\n      }));\r\n\r\n      it('should drag an element freely to a particular position when the page is scrolled',\r\n        fakeAsync(() => {\r\n          const fixture = createComponent(StandaloneDraggable);\r\n          fixture.detectChanges();\r\n\r\n          const cleanup = makePageScrollable();\r\n          const dragElement = fixture.componentInstance.dragElement.nativeElement;\r\n\r\n          scrollTo(0, 500);\r\n          expect(dragElement.style.transform).toBeFalsy();\r\n          dragElementViaMouse(fixture, dragElement, 50, 100);\r\n          expect(dragElement.style.transform).toBe('translate3d(50px, 100px, 0px)');\r\n          cleanup();\r\n        }));\r\n\r\n      it('should continue dragging the element from where it was left off', fakeAsync(() => {\r\n        const fixture = createComponent(StandaloneDraggable);\r\n        fixture.detectChanges();\r\n        const dragElement = fixture.componentInstance.dragElement.nativeElement;\r\n\r\n        expect(dragElement.style.transform).toBeFalsy();\r\n\r\n        dragElementViaMouse(fixture, dragElement, 50, 100);\r\n        expect(dragElement.style.transform).toBe('translate3d(50px, 100px, 0px)');\r\n\r\n        dragElementViaMouse(fixture, dragElement, 100, 200);\r\n        expect(dragElement.style.transform).toBe('translate3d(150px, 300px, 0px)');\r\n      }));\r\n\r\n      it('should continue dragging from where it was left off when the page is scrolled',\r\n        fakeAsync(() => {\r\n          const fixture = createComponent(StandaloneDraggable);\r\n          fixture.detectChanges();\r\n\r\n          const dragElement = fixture.componentInstance.dragElement.nativeElement;\r\n          const cleanup = makePageScrollable();\r\n\r\n          scrollTo(0, 500);\r\n          expect(dragElement.style.transform).toBeFalsy();\r\n\r\n          dragElementViaMouse(fixture, dragElement, 50, 100);\r\n          expect(dragElement.style.transform).toBe('translate3d(50px, 100px, 0px)');\r\n\r\n          dragElementViaMouse(fixture, dragElement, 100, 200);\r\n          expect(dragElement.style.transform).toBe('translate3d(150px, 300px, 0px)');\r\n\r\n          cleanup();\r\n        }));\r\n    });\r\n\r\n    describe('touch dragging', () => {\r\n      it('should drag an element freely to a particular position', fakeAsync(() => {\r\n        const fixture = createComponent(StandaloneDraggable);\r\n        fixture.detectChanges();\r\n        const dragElement = fixture.componentInstance.dragElement.nativeElement;\r\n\r\n        expect(dragElement.style.transform).toBeFalsy();\r\n        dragElementViaTouch(fixture, dragElement, 50, 100);\r\n        expect(dragElement.style.transform).toBe('translate3d(50px, 100px, 0px)');\r\n      }));\r\n\r\n      it('should drag an element freely to a particular position when the page is scrolled',\r\n        fakeAsync(() => {\r\n          const fixture = createComponent(StandaloneDraggable);\r\n          fixture.detectChanges();\r\n\r\n          const dragElement = fixture.componentInstance.dragElement.nativeElement;\r\n          const cleanup = makePageScrollable();\r\n\r\n          scrollTo(0, 500);\r\n          expect(dragElement.style.transform).toBeFalsy();\r\n          dragElementViaTouch(fixture, dragElement, 50, 100);\r\n          expect(dragElement.style.transform).toBe('translate3d(50px, 100px, 0px)');\r\n          cleanup();\r\n        }));\r\n\r\n      it('should continue dragging the element from where it was left off', fakeAsync(() => {\r\n        const fixture = createComponent(StandaloneDraggable);\r\n        fixture.detectChanges();\r\n        const dragElement = fixture.componentInstance.dragElement.nativeElement;\r\n\r\n        expect(dragElement.style.transform).toBeFalsy();\r\n\r\n        dragElementViaTouch(fixture, dragElement, 50, 100);\r\n        expect(dragElement.style.transform).toBe('translate3d(50px, 100px, 0px)');\r\n\r\n        dragElementViaTouch(fixture, dragElement, 100, 200);\r\n        expect(dragElement.style.transform).toBe('translate3d(150px, 300px, 0px)');\r\n      }));\r\n\r\n      it('should continue dragging from where it was left off when the page is scrolled',\r\n        fakeAsync(() => {\r\n          const fixture = createComponent(StandaloneDraggable);\r\n          fixture.detectChanges();\r\n\r\n          const dragElement = fixture.componentInstance.dragElement.nativeElement;\r\n          const cleanup = makePageScrollable();\r\n\r\n          scrollTo(0, 500);\r\n          expect(dragElement.style.transform).toBeFalsy();\r\n\r\n          dragElementViaTouch(fixture, dragElement, 50, 100);\r\n          expect(dragElement.style.transform).toBe('translate3d(50px, 100px, 0px)');\r\n\r\n          dragElementViaTouch(fixture, dragElement, 100, 200);\r\n          expect(dragElement.style.transform).toBe('translate3d(150px, 300px, 0px)');\r\n\r\n          cleanup();\r\n        }));\r\n\r\n      it('should prevent the default `touchmove` action on the page while dragging',\r\n        fakeAsync(() => {\r\n          const fixture = createComponent(StandaloneDraggable);\r\n          fixture.detectChanges();\r\n\r\n          dispatchTouchEvent(fixture.componentInstance.dragElement.nativeElement, 'touchstart');\r\n          fixture.detectChanges();\r\n\r\n          expect(dispatchTouchEvent(document, 'touchmove').defaultPrevented).toBe(true);\r\n\r\n          dispatchTouchEvent(document, 'touchend');\r\n          fixture.detectChanges();\r\n        }));\r\n    });\r\n\r\n    it('should dispatch an event when the user has started dragging', fakeAsync(() => {\r\n      const fixture = createComponent(StandaloneDraggable);\r\n      fixture.detectChanges();\r\n\r\n      dispatchMouseEvent(fixture.componentInstance.dragElement.nativeElement, 'mousedown');\r\n      fixture.detectChanges();\r\n\r\n      expect(fixture.componentInstance.startedSpy).toHaveBeenCalled();\r\n\r\n      const event = fixture.componentInstance.startedSpy.calls.mostRecent().args[0];\r\n\r\n      // Assert the event like this, rather than `toHaveBeenCalledWith`, because Jasmine will\r\n      // go into an infinite loop trying to stringify the event, if the test fails.\r\n      expect(event).toEqual({source: fixture.componentInstance.dragInstance});\r\n    }));\r\n\r\n    it('should dispatch an event when the user has stopped dragging', fakeAsync(() => {\r\n      const fixture = createComponent(StandaloneDraggable);\r\n      fixture.detectChanges();\r\n\r\n      dragElementViaMouse(fixture, fixture.componentInstance.dragElement.nativeElement, 5, 10);\r\n\r\n      expect(fixture.componentInstance.endedSpy).toHaveBeenCalled();\r\n\r\n      const event = fixture.componentInstance.endedSpy.calls.mostRecent().args[0];\r\n\r\n      // Assert the event like this, rather than `toHaveBeenCalledWith`, because Jasmine will\r\n      // go into an infinite loop trying to stringify the event, if the test fails.\r\n      expect(event).toEqual({source: fixture.componentInstance.dragInstance});\r\n    }));\r\n\r\n    it('should emit when the user is moving the drag element', () => {\r\n      const fixture = createComponent(StandaloneDraggable);\r\n      fixture.detectChanges();\r\n\r\n      const spy = jasmine.createSpy('move spy');\r\n      const subscription = fixture.componentInstance.dragInstance.moved.subscribe(spy);\r\n\r\n      dragElementViaMouse(fixture, fixture.componentInstance.dragElement.nativeElement, 5, 10);\r\n      expect(spy).toHaveBeenCalledTimes(1);\r\n\r\n      dragElementViaMouse(fixture, fixture.componentInstance.dragElement.nativeElement, 10, 20);\r\n      expect(spy).toHaveBeenCalledTimes(2);\r\n\r\n      subscription.unsubscribe();\r\n    });\r\n\r\n    it('should emit to `moved` inside the NgZone', () => {\r\n      const fixture = createComponent(StandaloneDraggable);\r\n      fixture.detectChanges();\r\n\r\n      const spy = jasmine.createSpy('move spy');\r\n      const subscription = fixture.componentInstance.dragInstance.moved\r\n          .subscribe(() => spy(NgZone.isInAngularZone()));\r\n\r\n      dragElementViaMouse(fixture, fixture.componentInstance.dragElement.nativeElement, 10, 20);\r\n      expect(spy).toHaveBeenCalledWith(true);\r\n\r\n      subscription.unsubscribe();\r\n    });\r\n\r\n    it('should complete the `moved` stream on destroy', () => {\r\n      const fixture = createComponent(StandaloneDraggable);\r\n      fixture.detectChanges();\r\n\r\n      const spy = jasmine.createSpy('move spy');\r\n      const subscription = fixture.componentInstance.dragInstance.moved\r\n          .subscribe(undefined, undefined, spy);\r\n\r\n      fixture.destroy();\r\n      expect(spy).toHaveBeenCalled();\r\n      subscription.unsubscribe();\r\n    });\r\n\r\n    it('should be able to lock dragging along the x axis', fakeAsync(() => {\r\n      const fixture = createComponent(StandaloneDraggable);\r\n      fixture.detectChanges();\r\n      fixture.componentInstance.dragInstance.lockAxis = 'x';\r\n\r\n      const dragElement = fixture.componentInstance.dragElement.nativeElement;\r\n\r\n      expect(dragElement.style.transform).toBeFalsy();\r\n\r\n      dragElementViaMouse(fixture, dragElement, 50, 100);\r\n      expect(dragElement.style.transform).toBe('translate3d(50px, 0px, 0px)');\r\n\r\n      dragElementViaMouse(fixture, dragElement, 100, 200);\r\n      expect(dragElement.style.transform).toBe('translate3d(150px, 0px, 0px)');\r\n    }));\r\n\r\n    it('should be able to lock dragging along the y axis', fakeAsync(() => {\r\n      const fixture = createComponent(StandaloneDraggable);\r\n      fixture.detectChanges();\r\n      fixture.componentInstance.dragInstance.lockAxis = 'y';\r\n\r\n      const dragElement = fixture.componentInstance.dragElement.nativeElement;\r\n\r\n      expect(dragElement.style.transform).toBeFalsy();\r\n\r\n      dragElementViaMouse(fixture, dragElement, 50, 100);\r\n      expect(dragElement.style.transform).toBe('translate3d(0px, 100px, 0px)');\r\n\r\n      dragElementViaMouse(fixture, dragElement, 100, 200);\r\n      expect(dragElement.style.transform).toBe('translate3d(0px, 300px, 0px)');\r\n    }));\r\n\r\n  });\r\n\r\n  describe('draggable with a handle', () => {\r\n    it('should not be able to drag the entire element if it has a handle', fakeAsync(() => {\r\n      const fixture = createComponent(StandaloneDraggableWithHandle);\r\n      fixture.detectChanges();\r\n      const dragElement = fixture.componentInstance.dragElement.nativeElement;\r\n\r\n      expect(dragElement.style.transform).toBeFalsy();\r\n      dragElementViaMouse(fixture, dragElement, 50, 100);\r\n      expect(dragElement.style.transform).toBeFalsy();\r\n    }));\r\n\r\n    it('should be able to drag an element using its handle', fakeAsync(() => {\r\n      const fixture = createComponent(StandaloneDraggableWithHandle);\r\n      fixture.detectChanges();\r\n      const dragElement = fixture.componentInstance.dragElement.nativeElement;\r\n      const handle = fixture.componentInstance.handleElement.nativeElement;\r\n\r\n      expect(dragElement.style.transform).toBeFalsy();\r\n      dragElementViaMouse(fixture, handle, 50, 100);\r\n      expect(dragElement.style.transform).toBe('translate3d(50px, 100px, 0px)');\r\n    }));\r\n\r\n    it('should be able to use a handle that was added after init', fakeAsync(() => {\r\n      const fixture = createComponent(StandaloneDraggableWithDelayedHandle);\r\n\r\n      fixture.detectChanges();\r\n      fixture.componentInstance.showHandle = true;\r\n      fixture.detectChanges();\r\n\r\n      const dragElement = fixture.componentInstance.dragElement.nativeElement;\r\n      const handle = fixture.componentInstance.handleElement.nativeElement;\r\n\r\n      expect(dragElement.style.transform).toBeFalsy();\r\n      dragElementViaMouse(fixture, handle, 50, 100);\r\n      expect(dragElement.style.transform).toBe('translate3d(50px, 100px, 0px)');\r\n    }));\r\n\r\n    it('should be able to use more than one handle to drag the element', fakeAsync(() => {\r\n      const fixture = createComponent(StandaloneDraggableWithMultipleHandles);\r\n      fixture.detectChanges();\r\n\r\n      const dragElement = fixture.componentInstance.dragElement.nativeElement;\r\n      const handles = fixture.componentInstance.handles.map(handle => handle.element.nativeElement);\r\n\r\n      expect(dragElement.style.transform).toBeFalsy();\r\n      dragElementViaMouse(fixture, handles[1], 50, 100);\r\n      expect(dragElement.style.transform).toBe('translate3d(50px, 100px, 0px)');\r\n\r\n      dragElementViaMouse(fixture, handles[0], 100, 200);\r\n      expect(dragElement.style.transform).toBe('translate3d(150px, 300px, 0px)');\r\n    }));\r\n\r\n  });\r\n\r\n  describe('in a drop container', () => {\r\n    it('should be able to attach data to the drop container', () => {\r\n      const fixture = createComponent(DraggableInDropZone);\r\n      fixture.detectChanges();\r\n\r\n      expect(fixture.componentInstance.dropInstance.data).toBe(fixture.componentInstance.items);\r\n    });\r\n\r\n    it('should be able to attach data to a drag item', () => {\r\n      const fixture = createComponent(DraggableInDropZone);\r\n      fixture.detectChanges();\r\n\r\n      expect(fixture.componentInstance.dragItems.first.data)\r\n          .toBe(fixture.componentInstance.items[0]);\r\n    });\r\n\r\n    it('should be able to overwrite the drop zone id', fakeAsync(() => {\r\n      const fixture = createComponent(DraggableInDropZone);\r\n\r\n      fixture.componentInstance.dropZoneId = 'custom-id';\r\n      fixture.detectChanges();\r\n\r\n      const drop = fixture.componentInstance.dropInstance;\r\n\r\n      expect(drop.id).toBe('custom-id');\r\n      expect(drop.element.nativeElement.getAttribute('id')).toBe('custom-id');\r\n    }));\r\n\r\n    it('should toggle a class when the user starts dragging an item', fakeAsync(() => {\r\n      const fixture = createComponent(DraggableInDropZone);\r\n      fixture.detectChanges();\r\n      const item = fixture.componentInstance.dragItems.toArray()[1].element.nativeElement;\r\n      const dropZone = fixture.componentInstance.dropInstance;\r\n\r\n      expect(dropZone.element.nativeElement.classList).not.toContain('cdk-drop-dragging');\r\n\r\n      dispatchMouseEvent(item, 'mousedown');\r\n      fixture.detectChanges();\r\n\r\n      expect(dropZone.element.nativeElement.classList).toContain('cdk-drop-dragging');\r\n\r\n      dispatchMouseEvent(document, 'mouseup');\r\n      fixture.detectChanges();\r\n      flush();\r\n      fixture.detectChanges();\r\n\r\n      expect(dropZone.element.nativeElement.classList).not.toContain('cdk-drop-dragging');\r\n    }));\r\n\r\n    it('should dispatch the `dropped` event when an item has been dropped', fakeAsync(() => {\r\n      const fixture = createComponent(DraggableInDropZone);\r\n      fixture.detectChanges();\r\n      const dragItems = fixture.componentInstance.dragItems;\r\n\r\n      expect(dragItems.map(drag => drag.element.nativeElement.textContent!.trim()))\r\n          .toEqual(['Zero', 'One', 'Two', 'Three']);\r\n\r\n      const firstItem = dragItems.first;\r\n      const thirdItemRect = dragItems.toArray()[2].element.nativeElement.getBoundingClientRect();\r\n\r\n      dragElementViaMouse(fixture, firstItem.element.nativeElement,\r\n          thirdItemRect.left + 1, thirdItemRect.top + 1);\r\n      flush();\r\n      fixture.detectChanges();\r\n\r\n      expect(fixture.componentInstance.droppedSpy).toHaveBeenCalledTimes(1);\r\n\r\n      const event = fixture.componentInstance.droppedSpy.calls.mostRecent().args[0];\r\n\r\n      // Assert the event like this, rather than `toHaveBeenCalledWith`, because Jasmine will\r\n      // go into an infinite loop trying to stringify the event, if the test fails.\r\n      expect(event).toEqual({\r\n        previousIndex: 0,\r\n        currentIndex: 2,\r\n        item: firstItem,\r\n        container: fixture.componentInstance.dropInstance,\r\n        previousContainer: fixture.componentInstance.dropInstance\r\n      });\r\n\r\n      expect(dragItems.map(drag => drag.element.nativeElement.textContent!.trim()))\r\n          .toEqual(['One', 'Two', 'Zero', 'Three']);\r\n    }));\r\n\r\n    it('should not move the original element from its initial DOM position', fakeAsync(() => {\r\n      const fixture = createComponent(DraggableInDropZone);\r\n      fixture.detectChanges();\r\n      const root = fixture.nativeElement as HTMLElement;\r\n      let dragElements = Array.from(root.querySelectorAll('.cdk-drag'));\r\n\r\n      expect(dragElements.map(el => el.textContent)).toEqual(['Zero', 'One', 'Two', 'Three']);\r\n\r\n      // Stub out the original call so the list doesn't get re-rendered.\r\n      // We're testing the DOM order explicitly.\r\n      fixture.componentInstance.droppedSpy.and.callFake(() => {});\r\n\r\n      const thirdItemRect = dragElements[2].getBoundingClientRect();\r\n\r\n      dragElementViaMouse(fixture, fixture.componentInstance.dragItems.first.element.nativeElement,\r\n          thirdItemRect.left + 1, thirdItemRect.top + 1);\r\n      flush();\r\n      fixture.detectChanges();\r\n\r\n      dragElements = Array.from(root.querySelectorAll('.cdk-drag'));\r\n      expect(dragElements.map(el => el.textContent)).toEqual(['Zero', 'One', 'Two', 'Three']);\r\n    }));\r\n\r\n    it('should dispatch the `dropped` event in a horizontal drop zone', fakeAsync(() => {\r\n      const fixture = createComponent(DraggableInHorizontalDropZone);\r\n      fixture.detectChanges();\r\n      const dragItems = fixture.componentInstance.dragItems;\r\n\r\n      expect(dragItems.map(drag => drag.element.nativeElement.textContent!.trim()))\r\n          .toEqual(['Zero', 'One', 'Two', 'Three']);\r\n\r\n      const firstItem = dragItems.first;\r\n      const thirdItemRect = dragItems.toArray()[2].element.nativeElement.getBoundingClientRect();\r\n\r\n      dragElementViaMouse(fixture, firstItem.element.nativeElement,\r\n          thirdItemRect.left + 1, thirdItemRect.top + 1);\r\n      flush();\r\n      fixture.detectChanges();\r\n\r\n      expect(fixture.componentInstance.droppedSpy).toHaveBeenCalledTimes(1);\r\n\r\n      const event = fixture.componentInstance.droppedSpy.calls.mostRecent().args[0];\r\n\r\n      // Assert the event like this, rather than `toHaveBeenCalledWith`, because Jasmine will\r\n      // go into an infinite loop trying to stringify the event, if the test fails.\r\n      expect(event).toEqual({\r\n        previousIndex: 0,\r\n        currentIndex: 2,\r\n        item: firstItem,\r\n        container: fixture.componentInstance.dropInstance,\r\n        previousContainer: fixture.componentInstance.dropInstance\r\n      });\r\n\r\n      expect(dragItems.map(drag => drag.element.nativeElement.textContent!.trim()))\r\n          .toEqual(['One', 'Two', 'Zero', 'Three']);\r\n    }));\r\n\r\n    it('should create a preview element while the item is dragged', fakeAsync(() => {\r\n      const fixture = createComponent(DraggableInDropZone);\r\n      fixture.detectChanges();\r\n      const item = fixture.componentInstance.dragItems.toArray()[1].element.nativeElement;\r\n      const itemRect = item.getBoundingClientRect();\r\n      const initialParent = item.parentNode;\r\n\r\n      dispatchMouseEvent(item, 'mousedown');\r\n      fixture.detectChanges();\r\n\r\n      const preview = document.querySelector('.cdk-drag-preview')! as HTMLElement;\r\n      const previewRect = preview.getBoundingClientRect();\r\n\r\n      expect(item.parentNode).toBe(document.body, 'Expected element to be moved out into the body');\r\n      expect(item.style.display).toBe('none', 'Expected element to be hidden');\r\n      expect(preview).toBeTruthy('Expected preview to be in the DOM');\r\n      expect(preview.textContent!.trim())\r\n          .toContain('One', 'Expected preview content to match element');\r\n      expect(preview.getAttribute('dir'))\r\n          .toBe('ltr', 'Expected preview element to inherit the directionality.');\r\n      expect(previewRect.width).toBe(itemRect.width, 'Expected preview width to match element');\r\n      expect(previewRect.height).toBe(itemRect.height, 'Expected preview height to match element');\r\n\r\n      dispatchMouseEvent(document, 'mouseup');\r\n      fixture.detectChanges();\r\n      flush();\r\n\r\n      expect(item.parentNode)\r\n          .toBe(initialParent, 'Expected element to be moved back into its old parent');\r\n      expect(item.style.display).toBeFalsy('Expected element to be visible');\r\n      expect(preview.parentNode).toBeFalsy('Expected preview to be removed from the DOM');\r\n    }));\r\n\r\n    it('should pass the proper direction to the preview in rtl', fakeAsync(() => {\r\n      const fixture = createComponent(DraggableInDropZone, [{\r\n        provide: Directionality,\r\n        useValue: ({value: 'rtl'})\r\n      }]);\r\n\r\n      fixture.detectChanges();\r\n\r\n      const item = fixture.componentInstance.dragItems.toArray()[1].element.nativeElement;\r\n      dispatchMouseEvent(item, 'mousedown');\r\n      fixture.detectChanges();\r\n\r\n      expect(document.querySelector('.cdk-drag-preview')!.getAttribute('dir'))\r\n          .toBe('rtl', 'Expected preview element to inherit the directionality.');\r\n    }));\r\n\r\n    it('should remove the preview if its `transitionend` event timed out', fakeAsync(() => {\r\n      const fixture = createComponent(DraggableInDropZone);\r\n      fixture.detectChanges();\r\n      const item = fixture.componentInstance.dragItems.toArray()[1].element.nativeElement;\r\n\r\n      dispatchMouseEvent(item, 'mousedown');\r\n      fixture.detectChanges();\r\n\r\n      const preview = document.querySelector('.cdk-drag-preview')! as HTMLElement;\r\n\r\n      // Add a duration since the tests won't include one.\r\n      preview.style.transitionDuration = '500ms';\r\n\r\n      // Move somewhere so the draggable doesn't exit immediately.\r\n      dispatchTouchEvent(document, 'mousemove', 50, 50);\r\n      fixture.detectChanges();\r\n\r\n      dispatchMouseEvent(document, 'mouseup');\r\n      fixture.detectChanges();\r\n      tick(250);\r\n\r\n      expect(preview.parentNode)\r\n          .toBeTruthy('Expected preview to be in the DOM mid-way through the transition');\r\n\r\n      tick(500);\r\n\r\n      expect(preview.parentNode)\r\n          .toBeFalsy('Expected preview to be removed from the DOM if the transition timed out');\r\n    }));\r\n\r\n    it('should create a placeholder element while the item is dragged', fakeAsync(() => {\r\n      const fixture = createComponent(DraggableInDropZone);\r\n      fixture.detectChanges();\r\n      const item = fixture.componentInstance.dragItems.toArray()[1].element.nativeElement;\r\n      const initialParent = item.parentNode;\r\n\r\n      dispatchMouseEvent(item, 'mousedown');\r\n      fixture.detectChanges();\r\n\r\n      const placeholder = document.querySelector('.cdk-drag-placeholder')! as HTMLElement;\r\n\r\n      expect(placeholder).toBeTruthy('Expected placeholder to be in the DOM');\r\n      expect(placeholder.parentNode)\r\n          .toBe(initialParent, 'Expected placeholder to be inserted into the same parent');\r\n      expect(placeholder.textContent!.trim())\r\n          .toContain('One', 'Expected placeholder content to match element');\r\n\r\n      dispatchMouseEvent(document, 'mouseup');\r\n      fixture.detectChanges();\r\n      flush();\r\n\r\n      expect(placeholder.parentNode).toBeFalsy('Expected placeholder to be removed from the DOM');\r\n    }));\r\n\r\n    it('should move the placeholder as an item is being sorted down', fakeAsync(() => {\r\n      const fixture = createComponent(DraggableInDropZone);\r\n      fixture.detectChanges();\r\n      assertDownwardSorting(fixture, fixture.componentInstance.dragItems.map(item => {\r\n        return item.element.nativeElement;\r\n      }));\r\n    }));\r\n\r\n    it('should move the placeholder as an item is being sorted down on a scrolled page',\r\n      fakeAsync(() => {\r\n        const fixture = createComponent(DraggableInDropZone);\r\n        fixture.detectChanges();\r\n        const cleanup = makePageScrollable();\r\n\r\n        scrollTo(0, 500);\r\n        assertDownwardSorting(fixture, fixture.componentInstance.dragItems.map(item => {\r\n          return item.element.nativeElement;\r\n        }));\r\n        cleanup();\r\n      }));\r\n\r\n    it('should move the placeholder as an item is being sorted up', fakeAsync(() => {\r\n      const fixture = createComponent(DraggableInDropZone);\r\n      fixture.detectChanges();\r\n      assertUpwardSorting(fixture, fixture.componentInstance.dragItems.map(item => {\r\n        return item.element.nativeElement;\r\n      }));\r\n    }));\r\n\r\n    it('should move the placeholder as an item is being sorted up on a scrolled page',\r\n      fakeAsync(() => {\r\n        const fixture = createComponent(DraggableInDropZone);\r\n        fixture.detectChanges();\r\n        const cleanup = makePageScrollable();\r\n\r\n        scrollTo(0, 500);\r\n        assertUpwardSorting(fixture, fixture.componentInstance.dragItems.map(item => {\r\n          return item.element.nativeElement;\r\n        }));\r\n        cleanup();\r\n      }));\r\n\r\n    it('should move the placeholder as an item is being sorted to the right', fakeAsync(() => {\r\n      const fixture = createComponent(DraggableInHorizontalDropZone);\r\n      fixture.detectChanges();\r\n\r\n      const items = fixture.componentInstance.dragItems.toArray();\r\n      const draggedItem = items[0].element.nativeElement;\r\n      const {top, left} = draggedItem.getBoundingClientRect();\r\n\r\n      dispatchMouseEvent(draggedItem, 'mousedown', left, top);\r\n      fixture.detectChanges();\r\n\r\n      const placeholder = document.querySelector('.cdk-drag-placeholder')! as HTMLElement;\r\n\r\n      // Drag over each item one-by-one going to the right.\r\n      for (let i = 0; i < items.length; i++) {\r\n        const elementRect = items[i].element.nativeElement.getBoundingClientRect();\r\n\r\n        // Add a few pixels to the left offset so we get some overlap.\r\n        dispatchMouseEvent(document, 'mousemove', elementRect.left + 5, elementRect.top);\r\n        fixture.detectChanges();\r\n        expect(getElementIndexByPosition(placeholder, 'left')).toBe(i);\r\n      }\r\n\r\n      dispatchMouseEvent(document, 'mouseup');\r\n      fixture.detectChanges();\r\n      flush();\r\n    }));\r\n\r\n    it('should move the placeholder as an item is being sorted to the left', fakeAsync(() => {\r\n      const fixture = createComponent(DraggableInHorizontalDropZone);\r\n      fixture.detectChanges();\r\n\r\n      const items = fixture.componentInstance.dragItems.toArray();\r\n      const draggedItem = items[items.length - 1].element.nativeElement;\r\n      const {top, left} = draggedItem.getBoundingClientRect();\r\n\r\n      dispatchMouseEvent(draggedItem, 'mousedown', left, top);\r\n      fixture.detectChanges();\r\n\r\n      const placeholder = document.querySelector('.cdk-drag-placeholder')! as HTMLElement;\r\n\r\n      // Drag over each item one-by-one going to the left.\r\n      for (let i = items.length - 1; i > -1; i--) {\r\n        const elementRect = items[i].element.nativeElement.getBoundingClientRect();\r\n\r\n        // Remove a few pixels from the right offset so we get some overlap.\r\n        dispatchMouseEvent(document, 'mousemove', elementRect.right - 5, elementRect.top);\r\n        fixture.detectChanges();\r\n        expect(getElementIndexByPosition(placeholder, 'left')).toBe(i);\r\n      }\r\n\r\n      dispatchMouseEvent(document, 'mouseup');\r\n      fixture.detectChanges();\r\n      flush();\r\n    }));\r\n\r\n    it('should clean up the preview element if the item is destroyed mid-drag', fakeAsync(() => {\r\n      const fixture = createComponent(DraggableInDropZone);\r\n      fixture.detectChanges();\r\n      const item = fixture.componentInstance.dragItems.toArray()[1].element.nativeElement;\r\n\r\n      dispatchMouseEvent(item, 'mousedown');\r\n      fixture.detectChanges();\r\n\r\n      const preview = document.querySelector('.cdk-drag-preview')! as HTMLElement;\r\n\r\n      expect(preview.parentNode).toBeTruthy('Expected preview to be in the DOM');\r\n      expect(item.parentNode).toBeTruthy('Expected drag item to be in the DOM');\r\n\r\n      fixture.destroy();\r\n\r\n      expect(preview.parentNode).toBeFalsy('Expected preview to be removed from the DOM');\r\n      expect(item.parentNode).toBeFalsy('Expected drag item to be removed from the DOM');\r\n    }));\r\n\r\n    it('should be able to customize the preview element', fakeAsync(() => {\r\n      const fixture = createComponent(DraggableInDropZoneWithCustomPreview);\r\n      fixture.detectChanges();\r\n      const item = fixture.componentInstance.dragItems.toArray()[1].element.nativeElement;\r\n\r\n      dispatchMouseEvent(item, 'mousedown');\r\n      fixture.detectChanges();\r\n\r\n      const preview = document.querySelector('.cdk-drag-preview')! as HTMLElement;\r\n\r\n      expect(preview).toBeTruthy();\r\n      expect(preview.classList).toContain('custom-preview');\r\n      expect(preview.textContent!.trim()).toContain('Custom preview');\r\n    }));\r\n\r\n    it('should position custom previews next to the pointer', fakeAsync(() => {\r\n      const fixture = createComponent(DraggableInDropZoneWithCustomPreview);\r\n      fixture.detectChanges();\r\n      const item = fixture.componentInstance.dragItems.toArray()[1].element.nativeElement;\r\n\r\n      dispatchMouseEvent(item, 'mousedown', 50, 50);\r\n      fixture.detectChanges();\r\n\r\n      const preview = document.querySelector('.cdk-drag-preview')! as HTMLElement;\r\n\r\n      expect(preview.style.transform).toBe('translate3d(50px, 50px, 0px)');\r\n    }));\r\n\r\n    it('should lock position inside a drop container along the x axis', fakeAsync(() => {\r\n      const fixture = createComponent(DraggableInDropZoneWithCustomPreview);\r\n      fixture.detectChanges();\r\n\r\n      const item = fixture.componentInstance.dragItems.toArray()[1];\r\n      const element = item.element.nativeElement;\r\n\r\n      item.lockAxis = 'x';\r\n\r\n      dispatchMouseEvent(element, 'mousedown', 50, 50);\r\n      fixture.detectChanges();\r\n\r\n      dispatchMouseEvent(element, 'mousemove', 100, 100);\r\n      fixture.detectChanges();\r\n\r\n      const preview = document.querySelector('.cdk-drag-preview')! as HTMLElement;\r\n\r\n      expect(preview.style.transform).toBe('translate3d(100px, 50px, 0px)');\r\n    }));\r\n\r\n    it('should lock position inside a drop container along the y axis', fakeAsync(() => {\r\n      const fixture = createComponent(DraggableInDropZoneWithCustomPreview);\r\n      fixture.detectChanges();\r\n\r\n      const item = fixture.componentInstance.dragItems.toArray()[1];\r\n      const element = item.element.nativeElement;\r\n\r\n      item.lockAxis = 'y';\r\n\r\n      dispatchMouseEvent(element, 'mousedown', 50, 50);\r\n      fixture.detectChanges();\r\n\r\n      dispatchMouseEvent(element, 'mousemove', 100, 100);\r\n      fixture.detectChanges();\r\n\r\n      const preview = document.querySelector('.cdk-drag-preview')! as HTMLElement;\r\n\r\n      expect(preview.style.transform).toBe('translate3d(50px, 100px, 0px)');\r\n    }));\r\n\r\n    it('should inherit the position locking from the drop container', fakeAsync(() => {\r\n      const fixture = createComponent(DraggableInDropZoneWithCustomPreview);\r\n      fixture.detectChanges();\r\n\r\n      const element = fixture.componentInstance.dragItems.toArray()[1].element.nativeElement;\r\n\r\n      fixture.componentInstance.dropInstance.lockAxis = 'x';\r\n\r\n      dispatchMouseEvent(element, 'mousedown', 50, 50);\r\n      fixture.detectChanges();\r\n\r\n      dispatchMouseEvent(element, 'mousemove', 100, 100);\r\n      fixture.detectChanges();\r\n\r\n      const preview = document.querySelector('.cdk-drag-preview')! as HTMLElement;\r\n\r\n      expect(preview.style.transform).toBe('translate3d(100px, 50px, 0px)');\r\n    }));\r\n\r\n    it('should be able to customize the placeholder', fakeAsync(() => {\r\n      const fixture = createComponent(DraggableInDropZoneWithCustomPlaceholder);\r\n      fixture.detectChanges();\r\n      const item = fixture.componentInstance.dragItems.toArray()[1].element.nativeElement;\r\n\r\n      dispatchMouseEvent(item, 'mousedown');\r\n      fixture.detectChanges();\r\n\r\n      const placeholder = document.querySelector('.cdk-drag-placeholder')! as HTMLElement;\r\n\r\n      expect(placeholder).toBeTruthy();\r\n      expect(placeholder.classList).toContain('custom-placeholder');\r\n      expect(placeholder.textContent!.trim()).toContain('Custom placeholder');\r\n    }));\r\n\r\n    it('should clear the `transform` value from siblings when item is dropped`', fakeAsync(() => {\r\n      const fixture = createComponent(DraggableInDropZone);\r\n      fixture.detectChanges();\r\n\r\n      const dragItems = fixture.componentInstance.dragItems;\r\n      const firstItem = dragItems.first;\r\n      const thirdItem = dragItems.toArray()[2].element.nativeElement;\r\n      const thirdItemRect = thirdItem.getBoundingClientRect();\r\n\r\n      dispatchMouseEvent(firstItem.element.nativeElement, 'mousedown');\r\n      fixture.detectChanges();\r\n\r\n      dispatchMouseEvent(document, 'mousemove', thirdItemRect.left + 1, thirdItemRect.top + 1);\r\n      fixture.detectChanges();\r\n\r\n      expect(thirdItem.style.transform).toBeTruthy();\r\n\r\n      dispatchMouseEvent(document, 'mouseup');\r\n      fixture.detectChanges();\r\n      flush();\r\n      fixture.detectChanges();\r\n\r\n      expect(thirdItem.style.transform).toBeFalsy();\r\n    }));\r\n\r\n  });\r\n\r\n  describe('in a connected drop container', () => {\r\n    it('should dispatch the `dropped` event when an item has been dropped into a new container',\r\n      fakeAsync(() => {\r\n        const fixture = createComponent(ConnectedDropZones);\r\n        fixture.detectChanges();\r\n\r\n        const groups = fixture.componentInstance.groupedDragItems;\r\n        const item = groups[0][1];\r\n        const targetRect = groups[1][2].element.nativeElement.getBoundingClientRect();\r\n\r\n        dragElementViaMouse(fixture, item.element.nativeElement,\r\n            targetRect.left + 1, targetRect.top + 1);\r\n        flush();\r\n        fixture.detectChanges();\r\n\r\n        expect(fixture.componentInstance.droppedSpy).toHaveBeenCalledTimes(1);\r\n\r\n        const event = fixture.componentInstance.droppedSpy.calls.mostRecent().args[0];\r\n\r\n        expect(event).toEqual({\r\n          previousIndex: 1,\r\n          currentIndex: 3,\r\n          item,\r\n          container: fixture.componentInstance.dropInstances.toArray()[1],\r\n          previousContainer: fixture.componentInstance.dropInstances.first\r\n        });\r\n      }));\r\n\r\n    it('should be able to move the element over a new container and return it', fakeAsync(() => {\r\n      const fixture = createComponent(ConnectedDropZones);\r\n      fixture.detectChanges();\r\n\r\n      const groups = fixture.componentInstance.groupedDragItems;\r\n      const dropZones = fixture.componentInstance.dropInstances.map(d => d.element.nativeElement);\r\n      const item = groups[0][1];\r\n      const initialRect = item.element.nativeElement.getBoundingClientRect();\r\n      const targetRect = groups[1][2].element.nativeElement.getBoundingClientRect();\r\n\r\n      dispatchMouseEvent(item.element.nativeElement, 'mousedown');\r\n      fixture.detectChanges();\r\n\r\n      const placeholder = dropZones[0].querySelector('.cdk-drag-placeholder')!;\r\n\r\n      expect(placeholder).toBeTruthy();\r\n      expect(dropZones[0].contains(placeholder))\r\n          .toBe(true, 'Expected placeholder to be inside the first container.');\r\n\r\n      dispatchMouseEvent(document, 'mousemove', targetRect.left + 1, targetRect.top + 1);\r\n      fixture.detectChanges();\r\n\r\n      expect(dropZones[1].contains(placeholder))\r\n          .toBe(true, 'Expected placeholder to be inside second container.');\r\n\r\n      dispatchMouseEvent(document, 'mousemove', initialRect.left + 1, initialRect.top + 1);\r\n      fixture.detectChanges();\r\n\r\n      expect(dropZones[0].contains(placeholder))\r\n          .toBe(true, 'Expected placeholder to be back inside first container.');\r\n\r\n      dispatchMouseEvent(document, 'mouseup');\r\n      fixture.detectChanges();\r\n\r\n      expect(fixture.componentInstance.droppedSpy).not.toHaveBeenCalled();\r\n    }));\r\n\r\n    it('should transfer the DOM element from one drop zone to another', fakeAsync(() => {\r\n      const fixture = createComponent(ConnectedDropZones);\r\n      fixture.detectChanges();\r\n\r\n      const groups = fixture.componentInstance.groupedDragItems.slice();\r\n      const element = groups[0][1].element.nativeElement;\r\n      const dropInstances = fixture.componentInstance.dropInstances.toArray();\r\n      const targetRect = groups[1][2].element.nativeElement.getBoundingClientRect();\r\n\r\n      dragElementViaMouse(fixture, element, targetRect.left + 1, targetRect.top + 1);\r\n      flush();\r\n      fixture.detectChanges();\r\n\r\n      const event = fixture.componentInstance.droppedSpy.calls.mostRecent().args[0];\r\n\r\n      expect(event).toBeTruthy();\r\n      expect(event).toEqual({\r\n        previousIndex: 1,\r\n        currentIndex: 3,\r\n        item: groups[0][1],\r\n        container: dropInstances[1],\r\n        previousContainer: dropInstances[0]\r\n      });\r\n    }));\r\n\r\n    it('should not be able to transfer an item into a container that is not in `connectedTo`',\r\n      fakeAsync(() => {\r\n        const fixture = createComponent(ConnectedDropZones);\r\n\r\n        fixture.detectChanges();\r\n        fixture.componentInstance.dropInstances.forEach(d => d.connectedTo = []);\r\n        fixture.detectChanges();\r\n\r\n        const groups = fixture.componentInstance.groupedDragItems.slice();\r\n        const element = groups[0][1].element.nativeElement;\r\n        const dropInstances = fixture.componentInstance.dropInstances.toArray();\r\n        const targetRect = groups[1][2].element.nativeElement.getBoundingClientRect();\r\n\r\n        dragElementViaMouse(fixture, element, targetRect.left + 1, targetRect.top + 1);\r\n        flush();\r\n        fixture.detectChanges();\r\n\r\n        const event = fixture.componentInstance.droppedSpy.calls.mostRecent().args[0];\r\n\r\n        expect(event).toBeTruthy();\r\n        expect(event).toEqual({\r\n          previousIndex: 1,\r\n          currentIndex: 1,\r\n          item: groups[0][1],\r\n          container: dropInstances[0],\r\n          previousContainer: dropInstances[0]\r\n        });\r\n      }));\r\n\r\n    it('should not be able to transfer an item that does not match the `enterPredicate`',\r\n      fakeAsync(() => {\r\n        const fixture = createComponent(ConnectedDropZones);\r\n\r\n        fixture.detectChanges();\r\n        fixture.componentInstance.dropInstances.forEach(d => d.enterPredicate = () => false);\r\n        fixture.detectChanges();\r\n\r\n        const groups = fixture.componentInstance.groupedDragItems.slice();\r\n        const element = groups[0][1].element.nativeElement;\r\n        const dropInstances = fixture.componentInstance.dropInstances.toArray();\r\n        const targetRect = groups[1][2].element.nativeElement.getBoundingClientRect();\r\n\r\n        dragElementViaMouse(fixture, element, targetRect.left + 1, targetRect.top + 1);\r\n        flush();\r\n        fixture.detectChanges();\r\n\r\n        const event = fixture.componentInstance.droppedSpy.calls.mostRecent().args[0];\r\n\r\n        expect(event).toBeTruthy();\r\n        expect(event).toEqual({\r\n          previousIndex: 1,\r\n          currentIndex: 1,\r\n          item: groups[0][1],\r\n          container: dropInstances[0],\r\n          previousContainer: dropInstances[0]\r\n        });\r\n      }));\r\n\r\n    it('should be able to start dragging after an item has been transferred', fakeAsync(() => {\r\n      const fixture = createComponent(ConnectedDropZones);\r\n      fixture.detectChanges();\r\n\r\n      const groups = fixture.componentInstance.groupedDragItems;\r\n      const element = groups[0][1].element.nativeElement;\r\n      const dropZone = fixture.componentInstance.dropInstances.toArray()[1].element.nativeElement;\r\n      const targetRect = dropZone.getBoundingClientRect();\r\n\r\n      // Drag the element into the drop zone and move it to the top.\r\n      [1, -1].forEach(offset => {\r\n        dragElementViaMouse(fixture, element, targetRect.left + offset, targetRect.top + offset);\r\n        flush();\r\n        fixture.detectChanges();\r\n      });\r\n\r\n      assertDownwardSorting(fixture, Array.from(dropZone.querySelectorAll('.cdk-drag')));\r\n    }));\r\n\r\n    it('should be able to return the last item inside its initial container', fakeAsync(() => {\r\n      const fixture = createComponent(ConnectedDropZones);\r\n\r\n      // Make sure there's only one item in the first list.\r\n      fixture.componentInstance.todo = ['things'];\r\n      fixture.detectChanges();\r\n\r\n      const groups = fixture.componentInstance.groupedDragItems;\r\n      const dropZones = fixture.componentInstance.dropInstances.map(d => d.element.nativeElement);\r\n      const item = groups[0][0];\r\n      const initialRect = item.element.nativeElement.getBoundingClientRect();\r\n      const targetRect = groups[1][0].element.nativeElement.getBoundingClientRect();\r\n\r\n      dispatchMouseEvent(item.element.nativeElement, 'mousedown');\r\n      fixture.detectChanges();\r\n\r\n      const placeholder = dropZones[0].querySelector('.cdk-drag-placeholder')!;\r\n\r\n      expect(placeholder).toBeTruthy();\r\n\r\n      expect(dropZones[0].contains(placeholder))\r\n          .toBe(true, 'Expected placeholder to be inside the first container.');\r\n\r\n      dispatchMouseEvent(document, 'mousemove', targetRect.left + 1, targetRect.top + 1);\r\n      fixture.detectChanges();\r\n\r\n      expect(dropZones[1].contains(placeholder))\r\n          .toBe(true, 'Expected placeholder to be inside second container.');\r\n\r\n      dispatchMouseEvent(document, 'mousemove', initialRect.left + 1, initialRect.top + 1);\r\n      fixture.detectChanges();\r\n\r\n      expect(dropZones[0].contains(placeholder))\r\n          .toBe(true, 'Expected placeholder to be back inside first container.');\r\n\r\n      dispatchMouseEvent(document, 'mouseup');\r\n      fixture.detectChanges();\r\n\r\n      expect(fixture.componentInstance.droppedSpy).not.toHaveBeenCalled();\r\n    }));\r\n\r\n    it('should assign a default id on each drop zone', fakeAsync(() => {\r\n      const fixture = createComponent(ConnectedDropZones);\r\n      fixture.detectChanges();\r\n\r\n      expect(fixture.componentInstance.dropInstances.toArray().every(dropZone => {\r\n        return !!dropZone.id && !!dropZone.element.nativeElement.getAttribute('id');\r\n      })).toBe(true);\r\n    }));\r\n\r\n    it('should be able to connect two drop zones by id', fakeAsync(() => {\r\n      const fixture = createComponent(ConnectedDropZones);\r\n      fixture.detectChanges();\r\n\r\n      const dropInstances = fixture.componentInstance.dropInstances.toArray();\r\n\r\n      dropInstances[0].id = 'todo';\r\n      dropInstances[1].id = 'done';\r\n      dropInstances[0].connectedTo = ['done'];\r\n      dropInstances[1].connectedTo = ['todo'];\r\n      fixture.detectChanges();\r\n\r\n      const groups = fixture.componentInstance.groupedDragItems;\r\n      const element = groups[0][1].element.nativeElement;\r\n      const targetRect = groups[1][2].element.nativeElement.getBoundingClientRect();\r\n\r\n      dragElementViaMouse(fixture, element, targetRect.left + 1, targetRect.top + 1);\r\n      flush();\r\n      fixture.detectChanges();\r\n\r\n      const event = fixture.componentInstance.droppedSpy.calls.mostRecent().args[0];\r\n\r\n      expect(event).toBeTruthy();\r\n      expect(event).toEqual({\r\n        previousIndex: 1,\r\n        currentIndex: 3,\r\n        item: groups[0][1],\r\n        container: dropInstances[1],\r\n        previousContainer: dropInstances[0]\r\n      });\r\n    }));\r\n\r\n  });\r\n\r\n});\r\n\r\n@Component({\r\n  template: `\r\n    <div\r\n      cdkDrag\r\n      (cdkDragStarted)=\"startedSpy($event)\"\r\n      (cdkDragEnded)=\"endedSpy($event)\"\r\n      #dragElement\r\n      style=\"width: 100px; height: 100px; background: red;\"></div>\r\n  `\r\n})\r\nexport class StandaloneDraggable {\r\n  @ViewChild('dragElement') dragElement: ElementRef<HTMLElement>;\r\n  @ViewChild(CdkDrag) dragInstance: CdkDrag;\r\n  startedSpy = jasmine.createSpy('started spy');\r\n  endedSpy = jasmine.createSpy('ended spy');\r\n}\r\n\r\n@Component({\r\n  template: `\r\n    <div #dragElement cdkDrag\r\n      style=\"width: 100px; height: 100px; background: red; position: relative\">\r\n      <div #handleElement cdkDragHandle style=\"width: 10px; height: 10px; background: green;\"></div>\r\n    </div>\r\n  `\r\n})\r\nexport class StandaloneDraggableWithHandle {\r\n  @ViewChild('dragElement') dragElement: ElementRef<HTMLElement>;\r\n  @ViewChild('handleElement') handleElement: ElementRef<HTMLElement>;\r\n}\r\n\r\n@Component({\r\n  template: `\r\n    <div #dragElement cdkDrag\r\n      style=\"width: 100px; height: 100px; background: red; position: relative\">\r\n      <div\r\n        #handleElement\r\n        *ngIf=\"showHandle\"\r\n        cdkDragHandle style=\"width: 10px; height: 10px; background: green;\"></div>\r\n    </div>\r\n  `\r\n})\r\nexport class StandaloneDraggableWithDelayedHandle {\r\n  @ViewChild('dragElement') dragElement: ElementRef<HTMLElement>;\r\n  @ViewChild('handleElement') handleElement: ElementRef<HTMLElement>;\r\n  showHandle = false;\r\n}\r\n\r\n@Component({\r\n  encapsulation: ViewEncapsulation.None,\r\n  styles: [`\r\n    .cdk-drag-handle {\r\n      position: absolute;\r\n      top: 0;\r\n      background: green;\r\n      width: 10px;\r\n      height: 10px;\r\n    }\r\n  `],\r\n  template: `\r\n    <div #dragElement cdkDrag\r\n      style=\"width: 100px; height: 100px; background: red; position: relative\">\r\n      <div cdkDragHandle style=\"left: 0;\"></div>\r\n      <div cdkDragHandle style=\"right: 0;\"></div>\r\n    </div>\r\n  `\r\n})\r\nexport class StandaloneDraggableWithMultipleHandles {\r\n  @ViewChild('dragElement') dragElement: ElementRef<HTMLElement>;\r\n  @ViewChildren(CdkDragHandle) handles: QueryList<CdkDragHandle>;\r\n}\r\n\r\n@Component({\r\n  template: `\r\n    <cdk-drop\r\n      style=\"display: block; width: 100px; background: pink;\"\r\n      [id]=\"dropZoneId\"\r\n      [data]=\"items\"\r\n      (dropped)=\"droppedSpy($event)\">\r\n      <div\r\n        *ngFor=\"let item of items\"\r\n        cdkDrag\r\n        [cdkDragData]=\"item\"\r\n        style=\"width: 100%; height: ${ITEM_HEIGHT}px; background: red;\">{{item}}</div>\r\n    </cdk-drop>\r\n  `\r\n})\r\nexport class DraggableInDropZone {\r\n  @ViewChildren(CdkDrag) dragItems: QueryList<CdkDrag>;\r\n  @ViewChild(CdkDrop) dropInstance: CdkDrop;\r\n  items = ['Zero', 'One', 'Two', 'Three'];\r\n  dropZoneId = 'items';\r\n  droppedSpy = jasmine.createSpy('dropped spy').and.callFake((event: CdkDragDrop<string[]>) => {\r\n    moveItemInArray(this.items, event.previousIndex, event.currentIndex);\r\n  });\r\n}\r\n\r\n\r\n@Component({\r\n  encapsulation: ViewEncapsulation.None,\r\n  styles: [\r\n  // Use inline blocks here to avoid flexbox issues and not to have to flip floats in rtl.\r\n  `\r\n    .cdk-drop {\r\n      display: block;\r\n      width: 300px;\r\n      background: pink;\r\n      font-size: 0;\r\n    }\r\n\r\n    .cdk-drag {\r\n      width: ${ITEM_WIDTH}px;\r\n      height: ${ITEM_HEIGHT}px;\r\n      background: red;\r\n      display: inline-block;\r\n    }\r\n  `],\r\n  template: `\r\n    <cdk-drop\r\n      orientation=\"horizontal\"\r\n      [data]=\"items\"\r\n      (dropped)=\"droppedSpy($event)\">\r\n      <div *ngFor=\"let item of items\" cdkDrag>{{item}}</div>\r\n    </cdk-drop>\r\n  `\r\n})\r\nexport class DraggableInHorizontalDropZone {\r\n  @ViewChildren(CdkDrag) dragItems: QueryList<CdkDrag>;\r\n  @ViewChild(CdkDrop) dropInstance: CdkDrop;\r\n  items = ['Zero', 'One', 'Two', 'Three'];\r\n  droppedSpy = jasmine.createSpy('dropped spy').and.callFake((event: CdkDragDrop<string[]>) => {\r\n    moveItemInArray(this.items, event.previousIndex, event.currentIndex);\r\n  });\r\n}\r\n\r\n@Component({\r\n  template: `\r\n    <cdk-drop style=\"display: block; width: 100px; background: pink;\">\r\n      <div *ngFor=\"let item of items\" cdkDrag\r\n        style=\"width: 100%; height: ${ITEM_HEIGHT}px; background: red;\">\r\n          {{item}}\r\n          <div class=\"custom-preview\" *cdkDragPreview>Custom preview</div>\r\n      </div>\r\n    </cdk-drop>\r\n  `\r\n})\r\nexport class DraggableInDropZoneWithCustomPreview {\r\n  @ViewChild(CdkDrop) dropInstance: CdkDrop;\r\n  @ViewChildren(CdkDrag) dragItems: QueryList<CdkDrag>;\r\n  items = ['Zero', 'One', 'Two', 'Three'];\r\n}\r\n\r\n\r\n@Component({\r\n  template: `\r\n    <cdk-drop style=\"display: block; width: 100px; background: pink;\">\r\n      <div *ngFor=\"let item of items\" cdkDrag\r\n        style=\"width: 100%; height: ${ITEM_HEIGHT}px; background: red;\">\r\n          {{item}}\r\n          <div class=\"custom-placeholder\" *cdkDragPlaceholder>Custom placeholder</div>\r\n      </div>\r\n    </cdk-drop>\r\n  `\r\n})\r\nexport class DraggableInDropZoneWithCustomPlaceholder {\r\n  @ViewChildren(CdkDrag) dragItems: QueryList<CdkDrag>;\r\n  items = ['Zero', 'One', 'Two', 'Three'];\r\n}\r\n\r\n\r\n@Component({\r\n  encapsulation: ViewEncapsulation.None,\r\n  styles: [`\r\n    .cdk-drop {\r\n      display: block;\r\n      width: 100px;\r\n      min-height: ${ITEM_HEIGHT}px;\r\n      background: hotpink;\r\n    }\r\n\r\n    .cdk-drag {\r\n      display: block;\r\n      height: ${ITEM_HEIGHT}px;\r\n      background: red;\r\n    }\r\n  `],\r\n  template: `\r\n    <cdk-drop\r\n      #todoZone\r\n      [data]=\"todo\"\r\n      [connectedTo]=\"[doneZone]\"\r\n      (dropped)=\"droppedSpy($event)\">\r\n      <div [cdkDragData]=\"item\" *ngFor=\"let item of todo\" cdkDrag>{{item}}</div>\r\n    </cdk-drop>\r\n\r\n    <cdk-drop\r\n      #doneZone\r\n      [data]=\"done\"\r\n      [connectedTo]=\"[todoZone]\"\r\n      (dropped)=\"droppedSpy($event)\">\r\n      <div [cdkDragData]=\"item\" *ngFor=\"let item of done\" cdkDrag>{{item}}</div>\r\n    </cdk-drop>\r\n  `\r\n})\r\nexport class ConnectedDropZones implements AfterViewInit {\r\n  @ViewChildren(CdkDrag) rawDragItems: QueryList<CdkDrag>;\r\n  @ViewChildren(CdkDrop) dropInstances: QueryList<CdkDrop>;\r\n\r\n  groupedDragItems: CdkDrag[][] = [];\r\n  todo = ['Zero', 'One', 'Two', 'Three'];\r\n  done = ['Four', 'Five', 'Six'];\r\n  droppedSpy = jasmine.createSpy('dropped spy');\r\n\r\n  ngAfterViewInit() {\r\n    this.dropInstances.forEach((dropZone, index) => {\r\n      if (!this.groupedDragItems[index]) {\r\n        this.groupedDragItems.push([]);\r\n      }\r\n\r\n      this.groupedDragItems[index].push(...dropZone._draggables.toArray());\r\n    });\r\n  }\r\n}\r\n\r\n\r\n\r\n/**\r\n * Drags an element to a position on the page using the mouse.\r\n * @param fixture Fixture on which to run change detection.\r\n * @param element Element which is being dragged.\r\n * @param x Position along the x axis to which to drag the element.\r\n * @param y Position along the y axis to which to drag the element.\r\n */\r\nfunction dragElementViaMouse(fixture: ComponentFixture<any>,\r\n    element: HTMLElement, x: number, y: number) {\r\n\r\n  dispatchMouseEvent(element, 'mousedown');\r\n  fixture.detectChanges();\r\n\r\n  dispatchMouseEvent(document, 'mousemove', x, y);\r\n  fixture.detectChanges();\r\n\r\n  dispatchMouseEvent(document, 'mouseup');\r\n  fixture.detectChanges();\r\n}\r\n\r\n/**\r\n * Drags an element to a position on the page using a touch device.\r\n * @param fixture Fixture on which to run change detection.\r\n * @param element Element which is being dragged.\r\n * @param x Position along the x axis to which to drag the element.\r\n * @param y Position along the y axis to which to drag the element.\r\n */\r\nfunction dragElementViaTouch(fixture: ComponentFixture<any>,\r\n    element: HTMLElement, x: number, y: number) {\r\n\r\n  dispatchTouchEvent(element, 'touchstart');\r\n  fixture.detectChanges();\r\n\r\n  dispatchTouchEvent(document, 'touchmove', x, y);\r\n  fixture.detectChanges();\r\n\r\n  dispatchTouchEvent(document, 'touchend');\r\n  fixture.detectChanges();\r\n}\r\n\r\n/** Gets the index of an element among its siblings, based on their position on the page. */\r\nfunction getElementIndexByPosition(element: HTMLElement, direction: 'top' | 'left') {\r\n  if (!element.parentElement) {\r\n    return -1;\r\n  }\r\n\r\n  return Array.from(element.parentElement.children)\r\n      .sort((a, b) => a.getBoundingClientRect()[direction] - b.getBoundingClientRect()[direction])\r\n      .indexOf(element);\r\n}\r\n\r\n/**\r\n * Adds a large element to the page in order to make it scrollable.\r\n * @returns Function that should be used to clean up after the test is done.\r\n */\r\nfunction makePageScrollable() {\r\n  const veryTallElement = document.createElement('div');\r\n  veryTallElement.style.width = '100%';\r\n  veryTallElement.style.height = '2000px';\r\n  document.body.appendChild(veryTallElement);\r\n\r\n  return () => {\r\n    scrollTo(0, 0);\r\n    veryTallElement.parentNode!.removeChild(veryTallElement);\r\n  };\r\n}\r\n\r\n/**\r\n * Asserts that sorting an element down works correctly.\r\n * @param fixture Fixture against which to run the assertions.\r\n * @param items Array of items against which to test sorting.\r\n */\r\nfunction assertDownwardSorting(fixture: ComponentFixture<any>, items: Element[]) {\r\n  const draggedItem = items[0];\r\n  const {top, left} = draggedItem.getBoundingClientRect();\r\n\r\n  dispatchMouseEvent(draggedItem, 'mousedown', left, top);\r\n  fixture.detectChanges();\r\n\r\n  const placeholder = document.querySelector('.cdk-drag-placeholder')! as HTMLElement;\r\n\r\n  // Drag over each item one-by-one going downwards.\r\n  for (let i = 0; i < items.length; i++) {\r\n    const elementRect = items[i].getBoundingClientRect();\r\n\r\n    // Add a few pixels to the top offset so we get some overlap.\r\n    dispatchMouseEvent(document, 'mousemove', elementRect.left, elementRect.top + 5);\r\n    fixture.detectChanges();\r\n    expect(getElementIndexByPosition(placeholder, 'top')).toBe(i);\r\n  }\r\n\r\n  dispatchMouseEvent(document, 'mouseup');\r\n  fixture.detectChanges();\r\n  flush();\r\n}\r\n\r\n/**\r\n * Asserts that sorting an element up works correctly.\r\n * @param fixture Fixture against which to run the assertions.\r\n * @param items Array of items against which to test sorting.\r\n */\r\nfunction assertUpwardSorting(fixture: ComponentFixture<any>, items: Element[]) {\r\n  const draggedItem = items[items.length - 1];\r\n  const {top, left} = draggedItem.getBoundingClientRect();\r\n\r\n  dispatchMouseEvent(draggedItem, 'mousedown', left, top);\r\n  fixture.detectChanges();\r\n\r\n  const placeholder = document.querySelector('.cdk-drag-placeholder')! as HTMLElement;\r\n\r\n  // Drag over each item one-by-one going upwards.\r\n  for (let i = items.length - 1; i > -1; i--) {\r\n    const elementRect = items[i].getBoundingClientRect();\r\n\r\n    // Remove a few pixels from the bottom offset so we get some overlap.\r\n    dispatchMouseEvent(document, 'mousemove', elementRect.left, elementRect.bottom - 5);\r\n    fixture.detectChanges();\r\n    expect(getElementIndexByPosition(placeholder, 'top')).toBe(i);\r\n  }\r\n\r\n  dispatchMouseEvent(document, 'mouseup');\r\n  fixture.detectChanges();\r\n  flush();\r\n}\r\n"]}