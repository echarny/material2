{"version":3,"file":"interactivity-checker.spec.js","sourceRoot":"","sources":["../../../../../src/cdk/a11y/interactivity-checker/interactivity-checker.spec.ts"],"names":[],"mappings":"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","sourcesContent":["import {Platform} from '@angular/cdk/platform';\r\nimport {InteractivityChecker} from './interactivity-checker';\r\n\r\ndescribe('InteractivityChecker', () => {\r\n  const platform: Platform = new Platform();\r\n\r\n  let testContainerElement: HTMLElement;\r\n  let checker: InteractivityChecker;\r\n\r\n  beforeEach(() => {\r\n    testContainerElement = document.createElement('div');\r\n    document.body.appendChild(testContainerElement);\r\n\r\n    checker = new InteractivityChecker(platform);\r\n  });\r\n\r\n  afterEach(() => {\r\n    document.body.removeChild(testContainerElement);\r\n    testContainerElement.innerHTML = '';\r\n  });\r\n\r\n  describe('isDisabled', () => {\r\n    it('should return true for disabled elements', () => {\r\n      let elements = createElements('input', 'textarea', 'select', 'button', 'mat-checkbox');\r\n      elements.forEach(el => el.setAttribute('disabled', ''));\r\n      appendElements(elements);\r\n\r\n      elements.forEach(el => {\r\n        expect(checker.isDisabled(el))\r\n            .toBe(true, `Expected <${el.nodeName} disabled> to be disabled`);\r\n      });\r\n    });\r\n\r\n    it('should return false for elements without disabled', () => {\r\n      let elements = createElements('input', 'textarea', 'select', 'button', 'mat-checkbox');\r\n      appendElements(elements);\r\n\r\n      elements.forEach(el => {\r\n        expect(checker.isDisabled(el))\r\n            .toBe(false, `Expected <${el.nodeName}> not to be disabled`);\r\n      });\r\n    });\r\n  });\r\n\r\n  describe('isVisible', () => {\r\n    it('should return false for a `display: none` element', () => {\r\n      testContainerElement.innerHTML =\r\n          `<input style=\"display: none;\">`;\r\n      let input = testContainerElement.querySelector('input') as HTMLElement;\r\n\r\n      expect(checker.isVisible(input))\r\n          .toBe(false, 'Expected element with `display: none` to not be visible');\r\n    });\r\n\r\n    it('should return false for the child of a `display: none` element', () => {\r\n      testContainerElement.innerHTML =\r\n        `<div style=\"display: none;\">\r\n           <input>\r\n         </div>`;\r\n      let input = testContainerElement.querySelector('input') as HTMLElement;\r\n\r\n      expect(checker.isVisible(input))\r\n          .toBe(false, 'Expected element with `display: none` parent to not be visible');\r\n    });\r\n\r\n    it('should return false for a `visibility: hidden` element', () => {\r\n      testContainerElement.innerHTML =\r\n          `<input style=\"visibility: hidden;\">`;\r\n      let input = testContainerElement.querySelector('input') as HTMLElement;\r\n\r\n      expect(checker.isVisible(input))\r\n          .toBe(false, 'Expected element with `visibility: hidden` to not be visible');\r\n    });\r\n\r\n    it('should return false for the child of a `visibility: hidden` element', () => {\r\n      testContainerElement.innerHTML =\r\n        `<div style=\"visibility: hidden;\">\r\n           <input>\r\n         </div>`;\r\n      let input = testContainerElement.querySelector('input') as HTMLElement;\r\n\r\n      expect(checker.isVisible(input))\r\n          .toBe(false, 'Expected element with `visibility: hidden` parent to not be visible');\r\n    });\r\n\r\n    it('should return true for an element with `visibility: hidden` ancestor and *closer* ' +\r\n        '`visibility: visible` ancestor', () => {\r\n      testContainerElement.innerHTML =\r\n        `<div style=\"visibility: hidden;\">\r\n           <div style=\"visibility: visible;\">\r\n             <input>\r\n           </div>\r\n         </div>`;\r\n      let input = testContainerElement.querySelector('input') as HTMLElement;\r\n\r\n      expect(checker.isVisible(input))\r\n          .toBe(true, 'Expected element with `visibility: hidden` ancestor and closer ' +\r\n              '`visibility: visible` ancestor to be visible');\r\n    });\r\n\r\n    it('should return true for an element without visibility modifiers', () => {\r\n      let input = document.createElement('input');\r\n      testContainerElement.appendChild(input);\r\n\r\n      expect(checker.isVisible(input))\r\n          .toBe(true, 'Expected element without visibility modifiers to be visible');\r\n    });\r\n  });\r\n\r\n  describe('isFocusable', () => {\r\n    it('should return true for native form controls', () => {\r\n      let elements = createElements('input', 'textarea', 'select', 'button');\r\n      appendElements(elements);\r\n\r\n      elements.forEach(el => {\r\n        expect(checker.isFocusable(el)).toBe(true, `Expected <${el.nodeName}> to be focusable`);\r\n      });\r\n    });\r\n\r\n    it('should return true for an anchor with an href', () => {\r\n      let anchor = document.createElement('a');\r\n      anchor.href = 'google.com';\r\n      testContainerElement.appendChild(anchor);\r\n\r\n      expect(checker.isFocusable(anchor)).toBe(true, `Expected <a> with href to be focusable`);\r\n    });\r\n\r\n    it('should return false for an anchor without an href', () => {\r\n      let anchor = document.createElement('a');\r\n      testContainerElement.appendChild(anchor);\r\n\r\n      expect(checker.isFocusable(anchor))\r\n          .toBe(false, `Expected <a> without href not to be focusable`);\r\n    });\r\n\r\n    it('should return false for disabled form controls', () => {\r\n      let elements = createElements('input', 'textarea', 'select', 'button');\r\n      elements.forEach(el => el.setAttribute('disabled', ''));\r\n      appendElements(elements);\r\n\r\n      elements.forEach(el => {\r\n        expect(checker.isFocusable(el))\r\n            .toBe(false, `Expected <${el.nodeName} disabled> not to be focusable`);\r\n      });\r\n    });\r\n\r\n    it('should return false for a `display: none` element', () => {\r\n      testContainerElement.innerHTML =\r\n          `<input style=\"display: none;\">`;\r\n      let input = testContainerElement.querySelector('input') as HTMLElement;\r\n\r\n      expect(checker.isFocusable(input))\r\n          .toBe(false, 'Expected element with `display: none` to not be visible');\r\n    });\r\n\r\n    it('should return false for the child of a `display: none` element', () => {\r\n      testContainerElement.innerHTML =\r\n        `<div style=\"display: none;\">\r\n           <input>\r\n         </div>`;\r\n      let input = testContainerElement.querySelector('input') as HTMLElement;\r\n\r\n      expect(checker.isFocusable(input))\r\n          .toBe(false, 'Expected element with `display: none` parent to not be visible');\r\n    });\r\n\r\n    it('should return false for a `visibility: hidden` element', () => {\r\n      testContainerElement.innerHTML =\r\n          `<input style=\"visibility: hidden;\">`;\r\n      let input = testContainerElement.querySelector('input') as HTMLElement;\r\n\r\n      expect(checker.isFocusable(input))\r\n          .toBe(false, 'Expected element with `visibility: hidden` not to be focusable');\r\n    });\r\n\r\n    it('should return false for the child of a `visibility: hidden` element', () => {\r\n      testContainerElement.innerHTML =\r\n        `<div style=\"visibility: hidden;\">\r\n           <input>\r\n         </div>`;\r\n      let input = testContainerElement.querySelector('input') as HTMLElement;\r\n\r\n      expect(checker.isFocusable(input))\r\n          .toBe(false, 'Expected element with `visibility: hidden` parent not to be focusable');\r\n    });\r\n\r\n    it('should return true for an element with `visibility: hidden` ancestor and *closer* ' +\r\n        '`visibility: visible` ancestor', () => {\r\n      testContainerElement.innerHTML =\r\n        `<div style=\"visibility: hidden;\">\r\n           <div style=\"visibility: visible;\">\r\n             <input>\r\n           </div>\r\n         </div>`;\r\n      let input = testContainerElement.querySelector('input') as HTMLElement;\r\n\r\n      expect(checker.isFocusable(input))\r\n          .toBe(true, 'Expected element with `visibility: hidden` ancestor and closer ' +\r\n              '`visibility: visible` ancestor to be focusable');\r\n    });\r\n\r\n    it('should return false for an element with an empty tabindex', () => {\r\n      let element = document.createElement('div');\r\n      element.setAttribute('tabindex', '');\r\n      testContainerElement.appendChild(element);\r\n\r\n      expect(checker.isFocusable(element))\r\n          .toBe(false, `Expected element with tabindex=\"\" not to be focusable`);\r\n    });\r\n\r\n    it('should return false for an element with a non-numeric tabindex', () => {\r\n      let element = document.createElement('div');\r\n      element.setAttribute('tabindex', 'abba');\r\n      testContainerElement.appendChild(element);\r\n\r\n      expect(checker.isFocusable(element))\r\n          .toBe(false, `Expected element with non-numeric tabindex not to be focusable`);\r\n    });\r\n\r\n    it('should return true for an element with contenteditable', () => {\r\n      let element = document.createElement('div');\r\n      element.setAttribute('contenteditable', '');\r\n      testContainerElement.appendChild(element);\r\n\r\n      expect(checker.isFocusable(element))\r\n          .toBe(true, `Expected element with contenteditable to be focusable`);\r\n    });\r\n\r\n\r\n    it('should return false for inert div and span', () => {\r\n      let elements = createElements('div', 'span');\r\n      appendElements(elements);\r\n\r\n      elements.forEach(el => {\r\n        expect(checker.isFocusable(el))\r\n            .toBe(false, `Expected <${el.nodeName}> not to be focusable`);\r\n      });\r\n    });\r\n\r\n\r\n  });\r\n\r\n  describe('isTabbable', () => {\r\n\r\n    it('should respect the tabindex for video elements with controls',\r\n      // Do not run for Blink, Firefox and iOS because those treat video elements\r\n      // with controls different and are covered in other tests.\r\n      runIf(!platform.BLINK && !platform.FIREFOX && !platform.IOS, () => {\r\n        let video = createFromTemplate('<video controls>', true);\r\n\r\n        expect(checker.isTabbable(video)).toBe(true);\r\n\r\n        video.tabIndex = -1;\r\n\r\n        expect(checker.isTabbable(video)).toBe(false);\r\n      })\r\n    );\r\n\r\n    it('should always mark video elements with controls as tabbable (BLINK & FIREFOX)',\r\n      // Only run this spec for Blink and Firefox, because those always treat video\r\n      // elements with controls as tabbable.\r\n      runIf(platform.BLINK || platform.FIREFOX, () => {\r\n        let video = createFromTemplate('<video controls>', true);\r\n\r\n        expect(checker.isTabbable(video)).toBe(true);\r\n\r\n        video.tabIndex = -1;\r\n\r\n        expect(checker.isTabbable(video)).toBe(true);\r\n      })\r\n    );\r\n\r\n    // Some tests should not run inside of iOS browsers, because those only allow specific\r\n    // elements to be tabbable and cause the tests to always fail.\r\n    describe('for non-iOS browsers', runIf(!platform.IOS, () => {\r\n\r\n      it('should mark form controls and anchors without tabindex attribute as tabbable', () => {\r\n        let elements = createElements('input', 'textarea', 'select', 'button', 'a');\r\n        appendElements(elements);\r\n\r\n        elements.forEach(el => {\r\n          expect(checker.isTabbable(el)).toBe(true, `Expected <${el.nodeName}> to be tabbable`);\r\n        });\r\n      });\r\n\r\n      it('should return true for div and span with tabindex == 0', () => {\r\n        let elements = createElements('div', 'span');\r\n\r\n        elements.forEach(el => el.setAttribute('tabindex', '0'));\r\n        appendElements(elements);\r\n\r\n        elements.forEach(el => {\r\n          expect(checker.isFocusable(el))\r\n            .toBe(true, `Expected <${el.nodeName} tabindex=\"0\"> to be focusable`);\r\n        });\r\n      });\r\n\r\n      it('should return false for native form controls and anchor with tabindex == -1', () => {\r\n        let elements = createElements('input', 'textarea', 'select', 'button', 'a');\r\n\r\n        elements.forEach(el => el.setAttribute('tabindex', '-1'));\r\n        appendElements(elements);\r\n\r\n        elements.forEach(el => {\r\n          expect(checker.isTabbable(el))\r\n            .toBe(false, `Expected <${el.nodeName} tabindex=\"-1\"> not to be tabbable`);\r\n        });\r\n      });\r\n\r\n      it('should return true for div and span with tabindex == 0', () => {\r\n        let elements = createElements('div', 'span');\r\n\r\n        elements.forEach(el => el.setAttribute('tabindex', '0'));\r\n        appendElements(elements);\r\n\r\n        elements.forEach(el => {\r\n          expect(checker.isTabbable(el))\r\n            .toBe(true, `Expected <${el.nodeName} tabindex=\"0\"> to be tabbable`);\r\n        });\r\n      });\r\n\r\n      it('should respect the inherited tabindex inside of frame elements', () => {\r\n        let iframe = createFromTemplate('<iframe>', true) as HTMLFrameElement;\r\n        let button = createFromTemplate('<button tabindex=\"0\">Not Tabbable</button>');\r\n\r\n        appendElements([iframe]);\r\n\r\n        iframe.setAttribute('tabindex', '-1');\r\n        iframe.contentDocument.body.appendChild(button);\r\n\r\n        expect(checker.isTabbable(iframe)).toBe(false);\r\n        expect(checker.isTabbable(button)).toBe(false);\r\n\r\n        iframe.removeAttribute('tabindex');\r\n\r\n        expect(checker.isTabbable(iframe)).toBe(false);\r\n        expect(checker.isTabbable(button)).toBe(true);\r\n      });\r\n\r\n      it('should carefully try to access the frame element of an elements window', () => {\r\n        const iframe = createFromTemplate('<iframe>', true) as HTMLFrameElement;\r\n        const button = createFromTemplate('<button tabindex=\"1\">Not Tabbable</button>');\r\n\r\n        appendElements([iframe]);\r\n\r\n        iframe.setAttribute('tabindex', '-1');\r\n        iframe.contentDocument.body.appendChild(button);\r\n\r\n        // Some browsers explicitly prevent overwriting of properties on a `Window` object.\r\n        if (!platform.SAFARI) {\r\n          Object.defineProperty(iframe.contentWindow, 'frameElement', {\r\n            get: () => { throw 'Access Denied!'; }\r\n          });\r\n        }\r\n\r\n        expect(() => checker.isTabbable(button)).not.toThrow();\r\n      });\r\n\r\n      it('should mark elements which are contentEditable as tabbable', () => {\r\n        let editableEl = createFromTemplate('<div contenteditable=\"true\">', true);\r\n\r\n        expect(checker.isTabbable(editableEl)).toBe(true);\r\n\r\n        editableEl.tabIndex = -1;\r\n\r\n        expect(checker.isTabbable(editableEl)).toBe(false);\r\n      });\r\n\r\n      it('should never mark iframe elements as tabbable', () => {\r\n        let iframe = createFromTemplate('<iframe>', true);\r\n\r\n        // iFrame elements will be never marked as tabbable, because it depends on the content\r\n        // which is mostly not detectable due to CORS and also the checks will be not reliable.\r\n        expect(checker.isTabbable(iframe)).toBe(false);\r\n      });\r\n\r\n      it('should always mark audio elements without controls as not tabbable', () => {\r\n        let audio = createFromTemplate('<audio>', true);\r\n\r\n        expect(checker.isTabbable(audio)).toBe(false);\r\n      });\r\n\r\n    }));\r\n\r\n    describe('for Blink and Webkit browsers', runIf(platform.BLINK || platform.WEBKIT, () => {\r\n\r\n      it('should not mark elements inside of object frames as tabbable', () => {\r\n        let objectEl = createFromTemplate('<object>', true) as HTMLObjectElement;\r\n        let button = createFromTemplate('<button tabindex=\"0\">Not Tabbable</button>');\r\n\r\n        appendElements([objectEl]);\r\n\r\n        // This is a hack to create an empty contentDocument for the frame element.\r\n        objectEl.type = 'text/html';\r\n        objectEl.contentDocument.body.appendChild(button);\r\n\r\n        expect(checker.isTabbable(objectEl)).toBe(false);\r\n        expect(checker.isTabbable(button)).toBe(false);\r\n      });\r\n\r\n      it('should not mark elements inside of invisible frames as tabbable', () => {\r\n        let iframe = createFromTemplate('<iframe>', true) as HTMLFrameElement;\r\n        let button = createFromTemplate('<button tabindex=\"0\">Not Tabbable</button>');\r\n\r\n        appendElements([iframe]);\r\n\r\n        iframe.style.display = 'none';\r\n        iframe.contentDocument.body.appendChild(button);\r\n\r\n        expect(checker.isTabbable(iframe)).toBe(false);\r\n        expect(checker.isTabbable(button)).toBe(false);\r\n      });\r\n\r\n      it('should never mark object frame elements as tabbable', () => {\r\n        let objectEl = createFromTemplate('<object>', true);\r\n\r\n        expect(checker.isTabbable(objectEl)).toBe(false);\r\n      });\r\n\r\n    }));\r\n\r\n    describe('for Blink browsers', runIf(platform.BLINK, () => {\r\n\r\n      it('should always mark audio elements with controls as tabbable', () => {\r\n        let audio = createFromTemplate('<audio controls>', true);\r\n\r\n        expect(checker.isTabbable(audio)).toBe(true);\r\n\r\n        audio.tabIndex = -1;\r\n\r\n        // The audio element will be still tabbable because Blink always\r\n        // considers them as tabbable.\r\n        expect(checker.isTabbable(audio)).toBe(true);\r\n      });\r\n\r\n    }));\r\n\r\n    describe('for Internet Explorer', runIf(platform.TRIDENT, () => {\r\n\r\n      it('should never mark video elements without controls as tabbable', () => {\r\n        // In Internet Explorer video elements without controls are never tabbable.\r\n        let video = createFromTemplate('<video>', true);\r\n\r\n        expect(checker.isTabbable(video)).toBe(false);\r\n\r\n        video.tabIndex = 0;\r\n\r\n        expect(checker.isTabbable(video)).toBe(false);\r\n\r\n      });\r\n\r\n    }));\r\n\r\n    describe('for iOS browsers', runIf(platform.IOS && platform.WEBKIT, () => {\r\n\r\n      it('should never allow div elements to be tabbable', () => {\r\n        let divEl = createFromTemplate('<div tabindex=\"0\">', true);\r\n\r\n        expect(checker.isTabbable(divEl)).toBe(false);\r\n      });\r\n\r\n      it('should never allow span elements to be tabbable', () => {\r\n        let spanEl = createFromTemplate('<span tabindex=\"0\">Text</span>', true);\r\n\r\n        expect(checker.isTabbable(spanEl)).toBe(false);\r\n      });\r\n\r\n      it('should never allow button elements to be tabbable', () => {\r\n        let buttonEl = createFromTemplate('<button tabindex=\"0\">', true);\r\n\r\n        expect(checker.isTabbable(buttonEl)).toBe(false);\r\n      });\r\n\r\n      it('should never allow anchor elements to be tabbable', () => {\r\n        let anchorEl = createFromTemplate('<a tabindex=\"0\">Link</a>', true);\r\n\r\n        expect(checker.isTabbable(anchorEl)).toBe(false);\r\n      });\r\n\r\n    }));\r\n\r\n\r\n  });\r\n\r\n  /** Creates an array of elements with the given node names. */\r\n  function createElements(...nodeNames: string[]) {\r\n    return nodeNames.map(name => document.createElement(name));\r\n  }\r\n\r\n  function createFromTemplate(template: string, append = false) {\r\n    let tmpRoot = document.createElement('div');\r\n    tmpRoot.innerHTML = template;\r\n\r\n    let element = tmpRoot.firstElementChild!;\r\n\r\n    tmpRoot.removeChild(element);\r\n\r\n    if (append) {\r\n      appendElements([element]);\r\n    }\r\n\r\n    return element as HTMLElement;\r\n  }\r\n\r\n  /** Appends elements to the testContainerElement. */\r\n  function appendElements(elements: Element[]) {\r\n    for (let e of elements) {\r\n      testContainerElement.appendChild(e);\r\n    }\r\n  }\r\n\r\n  function runIf(condition: boolean, runFn: Function): () => void {\r\n    return (...args: any[]) => {\r\n      if (condition) {\r\n        runFn.apply(this, args);\r\n      }\r\n    };\r\n  }\r\n\r\n});\r\n"]}