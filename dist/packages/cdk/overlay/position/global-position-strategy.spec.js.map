{"version":3,"file":"global-position-strategy.spec.js","sourceRoot":"","sources":["../../../../../src/cdk/overlay/position/global-position-strategy.spec.ts"],"names":[],"mappings":"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","sourcesContent":["import {NgModule, NgZone, Component} from '@angular/core';\r\nimport {TestBed, inject} from '@angular/core/testing';\r\nimport {MockNgZone} from '@angular/cdk/testing';\r\nimport {PortalModule, ComponentPortal} from '@angular/cdk/portal';\r\nimport {OverlayModule, Overlay, OverlayConfig, OverlayRef, OverlayContainer} from '../index';\r\n\r\n\r\ndescribe('GlobalPositonStrategy', () => {\r\n  let overlayRef: OverlayRef;\r\n  let overlay: Overlay;\r\n  let zone: MockNgZone;\r\n\r\n  beforeEach(() => {\r\n    TestBed.configureTestingModule({\r\n      imports: [GlobalOverlayTestModule],\r\n      providers: [{provide: NgZone, useFactory: () => zone = new MockNgZone()}]\r\n    });\r\n\r\n    inject([Overlay], (o: Overlay) => {\r\n      overlay = o;\r\n    })();\r\n  });\r\n\r\n  afterEach(inject([OverlayContainer], (overlayContainer: OverlayContainer) => {\r\n    if (overlayRef) {\r\n      overlayRef.dispose();\r\n      overlayRef = null!;\r\n    }\r\n\r\n    overlayContainer.ngOnDestroy();\r\n  }));\r\n\r\n  function attachOverlay(config: OverlayConfig): OverlayRef {\r\n    const portal = new ComponentPortal(BlankPortal);\r\n    overlayRef = overlay.create(config);\r\n    overlayRef.attach(portal);\r\n    zone.simulateZoneExit();\r\n    return overlayRef;\r\n  }\r\n\r\n  it('should position the element to the (top, left) with an offset', () => {\r\n    attachOverlay({\r\n      positionStrategy: overlay.position()\r\n        .global()\r\n        .top('10px')\r\n        .left('40px')\r\n    });\r\n\r\n    const elementStyle = overlayRef.overlayElement.style;\r\n    const parentStyle = (overlayRef.overlayElement.parentNode as HTMLElement).style;\r\n\r\n    expect(elementStyle.marginTop).toBe('10px');\r\n    expect(elementStyle.marginLeft).toBe('40px');\r\n    expect(elementStyle.marginBottom).toBe('');\r\n    expect(elementStyle.marginRight).toBe('');\r\n\r\n    expect(parentStyle.justifyContent).toBe('flex-start');\r\n    expect(parentStyle.alignItems).toBe('flex-start');\r\n  });\r\n\r\n  it('should position the element to the (bottom, right) with an offset', () => {\r\n    attachOverlay({\r\n      positionStrategy: overlay.position()\r\n        .global()\r\n        .bottom('70px')\r\n        .right('15em')\r\n    });\r\n\r\n    const elementStyle = overlayRef.overlayElement.style;\r\n    const parentStyle = (overlayRef.overlayElement.parentNode as HTMLElement).style;\r\n\r\n    expect(elementStyle.marginTop).toBe('');\r\n    expect(elementStyle.marginLeft).toBe('');\r\n    expect(elementStyle.marginBottom).toBe('70px');\r\n    expect(elementStyle.marginRight).toBe('15em');\r\n\r\n    expect(parentStyle.justifyContent).toBe('flex-end');\r\n    expect(parentStyle.alignItems).toBe('flex-end');\r\n  });\r\n\r\n  it('should overwrite previously applied positioning', () => {\r\n    const positionStrategy = overlay.position()\r\n      .global()\r\n      .centerHorizontally()\r\n      .centerVertically();\r\n\r\n    attachOverlay({positionStrategy});\r\n    positionStrategy.top('10px').left('40%');\r\n    overlayRef.updatePosition();\r\n\r\n    const elementStyle = overlayRef.overlayElement.style;\r\n    const parentStyle = (overlayRef.overlayElement.parentNode as HTMLElement).style;\r\n\r\n    expect(elementStyle.marginTop).toBe('10px');\r\n    expect(elementStyle.marginLeft).toBe('40%');\r\n    expect(elementStyle.marginBottom).toBe('');\r\n    expect(elementStyle.marginRight).toBe('');\r\n\r\n    expect(parentStyle.justifyContent).toBe('flex-start');\r\n    expect(parentStyle.alignItems).toBe('flex-start');\r\n\r\n    positionStrategy.bottom('70px').right('15em');\r\n    overlayRef.updatePosition();\r\n\r\n    expect(elementStyle.marginTop).toBe('');\r\n    expect(elementStyle.marginLeft).toBe('');\r\n    expect(elementStyle.marginBottom).toBe('70px');\r\n    expect(elementStyle.marginRight).toBe('15em');\r\n\r\n    expect(parentStyle.justifyContent).toBe('flex-end');\r\n    expect(parentStyle.alignItems).toBe('flex-end');\r\n  });\r\n\r\n  it('should center the element', () => {\r\n    attachOverlay({\r\n      positionStrategy: overlay.position()\r\n        .global()\r\n        .centerHorizontally()\r\n        .centerVertically()\r\n    });\r\n\r\n    const parentStyle = (overlayRef.overlayElement.parentNode as HTMLElement).style;\r\n\r\n    expect(parentStyle.justifyContent).toBe('center');\r\n    expect(parentStyle.alignItems).toBe('center');\r\n  });\r\n\r\n  it('should center the element with an offset', () => {\r\n    attachOverlay({\r\n      positionStrategy: overlay.position()\r\n        .global()\r\n        .centerHorizontally('10px')\r\n        .centerVertically('15px')\r\n    });\r\n\r\n    const elementStyle = overlayRef.overlayElement.style;\r\n    const parentStyle = (overlayRef.overlayElement.parentNode as HTMLElement).style;\r\n\r\n    expect(elementStyle.marginLeft).toBe('10px');\r\n    expect(elementStyle.marginTop).toBe('15px');\r\n\r\n    expect(parentStyle.justifyContent).toBe('center');\r\n    expect(parentStyle.alignItems).toBe('center');\r\n  });\r\n\r\n  it('should make the element position: static', () => {\r\n    attachOverlay({\r\n      positionStrategy: overlay.position().global()\r\n    });\r\n\r\n    expect(overlayRef.overlayElement.style.position).toBe('static');\r\n  });\r\n\r\n  it('should wrap the element in a `cdk-global-overlay-wrapper`', () => {\r\n    attachOverlay({\r\n      positionStrategy: overlay.position().global()\r\n    });\r\n\r\n    const parent = overlayRef.overlayElement.parentNode as HTMLElement;\r\n\r\n    expect(parent.classList.contains('cdk-global-overlay-wrapper')).toBe(true);\r\n  });\r\n\r\n  it('should remove the parent wrapper from the DOM', () => {\r\n    attachOverlay({\r\n      positionStrategy: overlay.position().global()\r\n    });\r\n\r\n    const parent = overlayRef.overlayElement.parentNode!;\r\n\r\n    expect(document.body.contains(parent)).toBe(true);\r\n\r\n    overlayRef.dispose();\r\n\r\n    expect(document.body.contains(parent)).toBe(false);\r\n  });\r\n\r\n  it('should set the element width', () => {\r\n    attachOverlay({\r\n      positionStrategy: overlay.position().global().width('100px')\r\n    });\r\n\r\n    expect(overlayRef.overlayElement.style.width).toBe('100px');\r\n  });\r\n\r\n  it('should set the element height', () => {\r\n    attachOverlay({\r\n      positionStrategy: overlay.position().global().height('100px')\r\n    });\r\n\r\n    expect(overlayRef.overlayElement.style.height).toBe('100px');\r\n  });\r\n\r\n  it('should reset the horizontal position and offset when the width is 100%', () => {\r\n    attachOverlay({\r\n      positionStrategy: overlay.position()\r\n        .global()\r\n        .centerHorizontally()\r\n        .width('100%')\r\n    });\r\n\r\n    const elementStyle = overlayRef.overlayElement.style;\r\n    const parentStyle = (overlayRef.overlayElement.parentNode as HTMLElement).style;\r\n\r\n    expect(elementStyle.marginLeft).toBe('0px');\r\n    expect(parentStyle.justifyContent).toBe('flex-start');\r\n  });\r\n\r\n  it('should reset the vertical position and offset when the height is 100%', () => {\r\n    attachOverlay({\r\n      positionStrategy: overlay.position()\r\n        .global()\r\n        .centerVertically()\r\n        .height('100%')\r\n    });\r\n\r\n    const elementStyle = overlayRef.overlayElement.style;\r\n    const parentStyle = (overlayRef.overlayElement.parentNode as HTMLElement).style;\r\n\r\n    expect(elementStyle.marginTop).toBe('0px');\r\n    expect(parentStyle.alignItems).toBe('flex-start');\r\n  });\r\n\r\n  it('should not throw when attempting to apply after the overlay has been disposed', () => {\r\n    const positionStrategy = overlay.position().global();\r\n\r\n    attachOverlay({positionStrategy});\r\n\r\n    positionStrategy.dispose();\r\n\r\n    expect(() => positionStrategy.apply()).not.toThrow();\r\n  });\r\n\r\n  it('should take its width and height from the overlay config', () => {\r\n    attachOverlay({\r\n      positionStrategy: overlay.position().global(),\r\n      width: '500px',\r\n      height: '300px'\r\n    });\r\n\r\n    const elementStyle = overlayRef.overlayElement.style;\r\n\r\n    expect(elementStyle.width).toBe('500px');\r\n    expect(elementStyle.height).toBe('300px');\r\n  });\r\n\r\n  it('should update the overlay size when setting it through the position strategy', () => {\r\n    attachOverlay({\r\n      positionStrategy: overlay.position()\r\n        .global()\r\n        .width('500px')\r\n        .height('300px'),\r\n    });\r\n\r\n    expect(overlayRef.getConfig().width).toBe('500px');\r\n    expect(overlayRef.getConfig().height).toBe('300px');\r\n  });\r\n\r\n  it('should take the dimensions from the overlay config, when they are set both in the ' +\r\n    'config and the strategy', () => {\r\n      attachOverlay({\r\n        positionStrategy: overlay.position().global().width('200px').height('100px'),\r\n        width: '500px',\r\n        height: '300px'\r\n      });\r\n\r\n      const elementStyle = overlayRef.overlayElement.style;\r\n\r\n      expect(elementStyle.width).toBe('500px');\r\n      expect(elementStyle.height).toBe('300px');\r\n    });\r\n\r\n  it('should center the element in RTL', () => {\r\n      attachOverlay({\r\n          direction: 'rtl',\r\n          positionStrategy: overlay.position()\r\n              .global()\r\n              .centerHorizontally()\r\n              .centerVertically()\r\n      });\r\n\r\n      const parentStyle = (overlayRef.overlayElement.parentNode as HTMLElement).style;\r\n      expect(parentStyle.justifyContent).toBe('center');\r\n      expect(parentStyle.alignItems).toBe('center');\r\n  });\r\n\r\n  it('should invert `justify-content` when using `left` in RTL', () => {\r\n    attachOverlay({\r\n      positionStrategy: overlay.position().global().left('0'),\r\n      direction: 'rtl'\r\n    });\r\n\r\n    const parentStyle = (overlayRef.overlayElement.parentNode as HTMLElement).style;\r\n    expect(parentStyle.justifyContent).toBe('flex-end');\r\n  });\r\n\r\n  it('should invert `justify-content` when using `right` in RTL', () => {\r\n    attachOverlay({\r\n      positionStrategy: overlay.position().global().right('0'),\r\n      direction: 'rtl'\r\n    });\r\n\r\n    const parentStyle = (overlayRef.overlayElement.parentNode as HTMLElement).style;\r\n    expect(parentStyle.justifyContent).toBe('flex-start');\r\n  });\r\n});\r\n\r\n\r\n@Component({template: ''})\r\nclass BlankPortal {}\r\n\r\n@NgModule({\r\n  imports: [OverlayModule, PortalModule],\r\n  exports: [BlankPortal],\r\n  declarations: [BlankPortal],\r\n  entryComponents: [BlankPortal],\r\n})\r\nclass GlobalOverlayTestModule {}\r\n"]}