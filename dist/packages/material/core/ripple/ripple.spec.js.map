{"version":3,"file":"ripple.spec.js","sourceRoot":"","sources":["../../../../../src/lib/core/ripple/ripple.spec.ts"],"names":[],"mappings":"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","sourcesContent":["import {TestBed, ComponentFixture, fakeAsync, tick, inject} from '@angular/core/testing';\r\nimport {Component, ViewChild} from '@angular/core';\r\nimport {Platform} from '@angular/cdk/platform';\r\nimport {dispatchMouseEvent, dispatchTouchEvent} from '@angular/cdk/testing';\r\nimport {defaultRippleAnimationConfig, RippleAnimationConfig} from './ripple-renderer';\r\nimport {\r\n  MatRipple, MatRippleModule, MAT_RIPPLE_GLOBAL_OPTIONS, RippleState, RippleGlobalOptions\r\n} from './index';\r\nimport {NoopAnimationsModule} from '@angular/platform-browser/animations';\r\n\r\n/** Shorthands for the enter and exit duration of ripples. */\r\nconst {enterDuration, exitDuration} = defaultRippleAnimationConfig;\r\n\r\ndescribe('MatRipple', () => {\r\n  let fixture: ComponentFixture<any>;\r\n  let rippleTarget: HTMLElement;\r\n  let originalBodyMargin: string | null;\r\n  let platform: Platform;\r\n\r\n  /** Extracts the numeric value of a pixel size string like '123px'. */\r\n  const pxStringToFloat = s => parseFloat(s) || 0;\r\n  const startingWindowWidth = window.innerWidth;\r\n  const startingWindowHeight = window.innerHeight;\r\n\r\n  beforeEach(() => {\r\n    TestBed.configureTestingModule({\r\n      imports: [MatRippleModule],\r\n      declarations: [\r\n        BasicRippleContainer,\r\n        RippleContainerWithInputBindings,\r\n        RippleContainerWithoutBindings,\r\n        RippleContainerWithNgIf,\r\n      ],\r\n    });\r\n  });\r\n\r\n  beforeEach(inject([Platform], (p: Platform) => {\r\n    platform = p;\r\n\r\n    // Set body margin to 0 during tests so it doesn't mess up position calculations.\r\n    originalBodyMargin = document.body.style.margin;\r\n    document.body.style.margin = '0';\r\n  }));\r\n\r\n  afterEach(() => {\r\n    document.body.style.margin = originalBodyMargin;\r\n  });\r\n\r\n  describe('basic ripple', () => {\r\n    let rippleDirective: MatRipple;\r\n\r\n    const TARGET_HEIGHT = 200;\r\n    const TARGET_WIDTH = 300;\r\n\r\n    beforeEach(() => {\r\n      fixture = TestBed.createComponent(BasicRippleContainer);\r\n      fixture.detectChanges();\r\n\r\n      rippleTarget = fixture.nativeElement.querySelector('[mat-ripple]');\r\n      rippleDirective = fixture.componentInstance.ripple;\r\n    });\r\n\r\n    it('sizes ripple to cover element', () => {\r\n      // This test is consistently flaky on iOS (vs. Safari on desktop and all other browsers).\r\n      // Temporarily skip this test on iOS until we can determine the source of the flakiness.\r\n      // TODO(jelbourn): determine the source of flakiness here\r\n      if (platform.IOS) {\r\n        return;\r\n      }\r\n\r\n      let elementRect = rippleTarget.getBoundingClientRect();\r\n\r\n      // Dispatch a ripple at the following relative coordinates (X: 50| Y: 75)\r\n      dispatchMouseEvent(rippleTarget, 'mousedown', 50, 75);\r\n      dispatchMouseEvent(rippleTarget, 'mouseup');\r\n\r\n      // Calculate distance from the click to farthest edge of the ripple target.\r\n      let maxDistanceX = TARGET_WIDTH - 50;\r\n      let maxDistanceY = TARGET_HEIGHT - 75;\r\n\r\n      // At this point the foreground ripple should be created with a div centered at the click\r\n      // location, and large enough to reach the furthest corner, which is 250px to the right\r\n      // and 125px down relative to the click position.\r\n      let expectedRadius = Math.sqrt(maxDistanceX * maxDistanceX + maxDistanceY * maxDistanceY);\r\n      let expectedLeft = elementRect.left + 50 - expectedRadius;\r\n      let expectedTop = elementRect.top + 75 - expectedRadius;\r\n\r\n      let ripple = rippleTarget.querySelector('.mat-ripple-element') as HTMLElement;\r\n\r\n      // Note: getBoundingClientRect won't work because there's a transform applied to make the\r\n      // ripple start out tiny.\r\n      expect(pxStringToFloat(ripple.style.left)).toBeCloseTo(expectedLeft, 1);\r\n      expect(pxStringToFloat(ripple.style.top)).toBeCloseTo(expectedTop, 1);\r\n      expect(pxStringToFloat(ripple.style.width)).toBeCloseTo(2 * expectedRadius, 1);\r\n      expect(pxStringToFloat(ripple.style.height)).toBeCloseTo(2 * expectedRadius, 1);\r\n    });\r\n\r\n    it('creates ripple on mousedown', () => {\r\n      dispatchMouseEvent(rippleTarget, 'mousedown');\r\n      dispatchMouseEvent(rippleTarget, 'mouseup');\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\r\n\r\n      dispatchMouseEvent(rippleTarget, 'mousedown');\r\n      dispatchMouseEvent(rippleTarget, 'mouseup');\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(2);\r\n    });\r\n\r\n    it('should launch ripples on touchstart', fakeAsync(() => {\r\n      dispatchTouchEvent(rippleTarget, 'touchstart');\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\r\n\r\n      tick(enterDuration);\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\r\n\r\n      dispatchTouchEvent(rippleTarget, 'touchend');\r\n\r\n      tick(exitDuration);\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\r\n    }));\r\n\r\n    it('should ignore synthetic mouse events after touchstart', () => fakeAsync(() => {\r\n      dispatchTouchEvent(rippleTarget, 'touchstart');\r\n      dispatchTouchEvent(rippleTarget, 'mousedown');\r\n\r\n      tick(enterDuration);\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\r\n\r\n      dispatchTouchEvent(rippleTarget, 'touchend');\r\n\r\n      tick(exitDuration);\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\r\n    }));\r\n\r\n    it('removes ripple after timeout', fakeAsync(() => {\r\n      dispatchMouseEvent(rippleTarget, 'mousedown');\r\n      dispatchMouseEvent(rippleTarget, 'mouseup');\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\r\n\r\n      // Calculates the duration for fading-in and fading-out the ripple.\r\n      tick(enterDuration + exitDuration);\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\r\n    }));\r\n\r\n    it('should remove ripples after mouseup', fakeAsync(() => {\r\n      dispatchMouseEvent(rippleTarget, 'mousedown');\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\r\n\r\n      // Fakes the duration of fading-in and fading-out normal ripples.\r\n      // The fade-out duration has been added to ensure that didn't start fading out.\r\n      tick(enterDuration + exitDuration);\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\r\n\r\n      dispatchMouseEvent(rippleTarget, 'mouseup');\r\n      tick(exitDuration);\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\r\n    }));\r\n\r\n    it('should not hide ripples while animating.', fakeAsync(() => {\r\n      // Calculates the duration for fading-in and fading-out the ripple.\r\n      let hideDuration = enterDuration + exitDuration;\r\n\r\n      dispatchMouseEvent(rippleTarget, 'mousedown');\r\n      dispatchMouseEvent(rippleTarget, 'mouseup');\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\r\n\r\n      tick(hideDuration - 10);\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\r\n\r\n      tick(10);\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\r\n    }));\r\n\r\n    it('creates ripples when manually triggered', () => {\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\r\n\r\n      rippleDirective.launch(0, 0);\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\r\n    });\r\n\r\n    it('creates manual ripples with the default ripple config', () => {\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\r\n\r\n      // Calculate the diagonal distance and divide it by two for the center radius.\r\n      let radius = Math.sqrt(TARGET_HEIGHT * TARGET_HEIGHT + TARGET_WIDTH * TARGET_WIDTH) / 2;\r\n\r\n      rippleDirective.centered = true;\r\n      rippleDirective.launch(0, 0);\r\n\r\n      let rippleElement = rippleTarget.querySelector('.mat-ripple-element') as HTMLElement;\r\n\r\n      expect(rippleElement).toBeTruthy();\r\n      expect(parseFloat(rippleElement.style.left as string))\r\n          .toBeCloseTo(TARGET_WIDTH / 2 - radius, 1);\r\n      expect(parseFloat(rippleElement.style.top as string))\r\n          .toBeCloseTo(TARGET_HEIGHT / 2 - radius, 1);\r\n    });\r\n\r\n    it('cleans up the event handlers when the container gets destroyed', () => {\r\n      fixture = TestBed.createComponent(RippleContainerWithNgIf);\r\n      fixture.detectChanges();\r\n\r\n      rippleTarget = fixture.debugElement.nativeElement.querySelector('[mat-ripple]');\r\n\r\n      fixture.componentInstance.isDestroyed = true;\r\n      fixture.detectChanges();\r\n\r\n      dispatchMouseEvent(rippleTarget, 'mousedown');\r\n      dispatchMouseEvent(rippleTarget, 'mouseup');\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\r\n    });\r\n\r\n    it('does not run events inside the NgZone', () => {\r\n      const spy = jasmine.createSpy('zone unstable callback');\r\n      const subscription = fixture.ngZone!.onUnstable.subscribe(spy);\r\n\r\n      dispatchMouseEvent(rippleTarget, 'mousedown');\r\n      dispatchMouseEvent(rippleTarget, 'mouseup');\r\n\r\n      expect(spy).not.toHaveBeenCalled();\r\n      subscription.unsubscribe();\r\n    });\r\n\r\n    it('should only persist the latest ripple on pointer down', fakeAsync(() => {\r\n      dispatchMouseEvent(rippleTarget, 'mousedown');\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\r\n\r\n      dispatchMouseEvent(rippleTarget, 'mousedown');\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(2);\r\n\r\n      tick(enterDuration + exitDuration);\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\r\n    }));\r\n\r\n    describe('when page is scrolled', () => {\r\n      let veryLargeElement: HTMLDivElement = document.createElement('div');\r\n      let pageScrollTop = 500;\r\n      let pageScrollLeft = 500;\r\n\r\n      beforeEach(() => {\r\n        // Add a very large element to make the page scroll\r\n        veryLargeElement.style.width = '4000px';\r\n        veryLargeElement.style.height = '4000px';\r\n\r\n        document.body.appendChild(veryLargeElement);\r\n        document.body.scrollTop = pageScrollTop;\r\n        document.body.scrollLeft = pageScrollLeft;\r\n\r\n        // Firefox\r\n        document.documentElement.scrollLeft = pageScrollLeft;\r\n        document.documentElement.scrollTop = pageScrollTop;\r\n\r\n        // Mobile safari\r\n        window.scrollTo(pageScrollLeft, pageScrollTop);\r\n      });\r\n\r\n      afterEach(() => {\r\n        document.body.removeChild(veryLargeElement);\r\n        document.body.scrollTop = 0;\r\n        document.body.scrollLeft = 0;\r\n\r\n        // Firefox\r\n        document.documentElement.scrollLeft = 0;\r\n        document.documentElement.scrollTop = 0;\r\n\r\n        // Mobile safari\r\n        window.scrollTo(0, 0);\r\n      });\r\n\r\n      it('create ripple with correct position', () => {\r\n        let elementTop = 600;\r\n        let elementLeft = 750;\r\n        let left = 50;\r\n        let top = 75;\r\n\r\n        rippleTarget.style.left = `${elementLeft}px`;\r\n        rippleTarget.style.top = `${elementTop}px`;\r\n\r\n        // Simulate a keyboard-triggered click by setting event coordinates to 0.\r\n        dispatchMouseEvent(rippleTarget, 'mousedown',\r\n          left + elementLeft - pageScrollLeft,\r\n          top + elementTop - pageScrollTop\r\n        );\r\n\r\n        let expectedRadius = Math.sqrt(250 * 250 + 125 * 125);\r\n        let expectedLeft = left - expectedRadius;\r\n        let expectedTop = top - expectedRadius;\r\n\r\n        let ripple = rippleTarget.querySelector('.mat-ripple-element') as HTMLElement;\r\n\r\n        // In the iOS simulator (BrowserStack & SauceLabs), adding the content to the\r\n        // body causes karma's iframe for the test to stretch to fit that content once we attempt to\r\n        // scroll the page. Setting width / height / maxWidth / maxHeight on the iframe does not\r\n        // successfully constrain its size. As such, skip assertions in environments where the\r\n        // window size has changed since the start of the test.\r\n        if (window.innerWidth > startingWindowWidth || window.innerHeight > startingWindowHeight) {\r\n          return;\r\n        }\r\n\r\n        expect(pxStringToFloat(ripple.style.left)).toBeCloseTo(expectedLeft, 1);\r\n        expect(pxStringToFloat(ripple.style.top)).toBeCloseTo(expectedTop, 1);\r\n        expect(pxStringToFloat(ripple.style.width)).toBeCloseTo(2 * expectedRadius, 1);\r\n        expect(pxStringToFloat(ripple.style.height)).toBeCloseTo(2 * expectedRadius, 1);\r\n      });\r\n    });\r\n\r\n  });\r\n\r\n  describe('manual ripples', () => {\r\n    let rippleDirective: MatRipple;\r\n\r\n    beforeEach(() => {\r\n      fixture = TestBed.createComponent(BasicRippleContainer);\r\n      fixture.detectChanges();\r\n\r\n      rippleTarget = fixture.nativeElement.querySelector('[mat-ripple]');\r\n      rippleDirective = fixture.componentInstance.ripple;\r\n    });\r\n\r\n    it('should allow persistent ripple elements', fakeAsync(() => {\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\r\n\r\n      let rippleRef = rippleDirective.launch(0, 0, { persistent: true });\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\r\n\r\n      // Calculates the duration for fading-in and fading-out the ripple. Also adds some\r\n      // extra time to demonstrate that the ripples are persistent.\r\n      tick(enterDuration + exitDuration + 5000);\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\r\n\r\n      rippleRef.fadeOut();\r\n\r\n      tick(exitDuration);\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\r\n    }));\r\n\r\n   it('should remove ripples that are not done fading-in', fakeAsync(() => {\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\r\n\r\n      rippleDirective.launch(0, 0);\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\r\n\r\n      tick(enterDuration / 2);\r\n\r\n      rippleDirective.fadeOutAll();\r\n\r\n      tick(exitDuration);\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length)\r\n        .toBe(0, 'Expected no ripples to be active after calling fadeOutAll.');\r\n    }));\r\n\r\n   it('should properly set ripple states', fakeAsync(() => {\r\n     expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\r\n\r\n     let rippleRef = rippleDirective.launch(0, 0, { persistent: true });\r\n\r\n     expect(rippleRef.state).toBe(RippleState.FADING_IN);\r\n     expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\r\n\r\n     tick(enterDuration);\r\n\r\n     expect(rippleRef.state).toBe(RippleState.VISIBLE);\r\n     expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\r\n\r\n     rippleRef.fadeOut();\r\n\r\n     expect(rippleRef.state).toBe(RippleState.FADING_OUT);\r\n     expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\r\n\r\n     tick(exitDuration);\r\n\r\n     expect(rippleRef.state).toBe(RippleState.HIDDEN);\r\n     expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\r\n   }));\r\n\r\n   it('should allow setting a specific animation config for a ripple', fakeAsync(() => {\r\n     expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\r\n\r\n     rippleDirective.launch(0, 0, {\r\n       animation: {enterDuration: 120, exitDuration: 0}\r\n     });\r\n\r\n     expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\r\n\r\n     tick(120);\r\n\r\n     expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\r\n   }));\r\n\r\n   it('should allow passing only a configuration', fakeAsync(() => {\r\n     expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\r\n\r\n     const rippleRef = rippleDirective.launch({persistent: true});\r\n\r\n     expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\r\n\r\n     tick(enterDuration + exitDuration);\r\n\r\n     expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\r\n\r\n     rippleRef.fadeOut();\r\n\r\n     tick(exitDuration);\r\n\r\n     expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\r\n   }));\r\n  });\r\n\r\n  describe('global ripple options', () => {\r\n    let rippleDirective: MatRipple;\r\n\r\n    function createTestComponent(rippleConfig: RippleGlobalOptions,\r\n                                 testComponent: any = BasicRippleContainer) {\r\n      // Reset the previously configured testing module to be able set new providers.\r\n      // The testing module has been initialized in the root describe group for the ripples.\r\n      TestBed.resetTestingModule();\r\n      TestBed.configureTestingModule({\r\n        imports: [MatRippleModule],\r\n        declarations: [testComponent],\r\n        providers: [{ provide: MAT_RIPPLE_GLOBAL_OPTIONS, useValue: rippleConfig }]\r\n      });\r\n\r\n      fixture = TestBed.createComponent(testComponent);\r\n      fixture.detectChanges();\r\n\r\n      rippleTarget = fixture.nativeElement.querySelector('[mat-ripple]');\r\n      rippleDirective = fixture.componentInstance.ripple;\r\n    }\r\n\r\n    it('should work without having any binding set', () => {\r\n      createTestComponent({ disabled: true }, RippleContainerWithoutBindings);\r\n\r\n      dispatchMouseEvent(rippleTarget, 'mousedown');\r\n      dispatchMouseEvent(rippleTarget, 'mouseup');\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\r\n\r\n      dispatchMouseEvent(rippleTarget, 'mousedown');\r\n      dispatchMouseEvent(rippleTarget, 'mouseup');\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\r\n    });\r\n\r\n    it('when disabled should not show any ripples on mousedown', () => {\r\n      createTestComponent({ disabled: true });\r\n\r\n      dispatchMouseEvent(rippleTarget, 'mousedown');\r\n      dispatchMouseEvent(rippleTarget, 'mouseup');\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\r\n\r\n      dispatchMouseEvent(rippleTarget, 'mousedown');\r\n      dispatchMouseEvent(rippleTarget, 'mouseup');\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\r\n    });\r\n\r\n    it('when disabled should still allow manual ripples', () => {\r\n      createTestComponent({ disabled: true });\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\r\n\r\n      rippleDirective.launch(0, 0);\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\r\n    });\r\n\r\n    it('should support changing the baseSpeedFactor', fakeAsync(() => {\r\n      createTestComponent({ baseSpeedFactor: 0.5 });\r\n\r\n      dispatchMouseEvent(rippleTarget, 'mousedown');\r\n      dispatchMouseEvent(rippleTarget, 'mouseup');\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\r\n\r\n      // Calculates the speedFactor for the duration. Those factors needs to be inverted, because\r\n      // a lower speed factor, will make the duration longer. For example: 0.5 => 2x duration.\r\n      let fadeInFactor = 1 / 0.5;\r\n\r\n      // Calculates the duration for fading-in and fading-out the ripple.\r\n      tick(enterDuration * fadeInFactor + exitDuration);\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\r\n    }));\r\n\r\n    it('should combine individual speed factor with baseSpeedFactor', fakeAsync(() => {\r\n      createTestComponent({ baseSpeedFactor: 0.5 });\r\n\r\n      rippleDirective.launch(0, 0, { speedFactor: 1.5 });\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\r\n\r\n      // Calculates the speedFactor for the duration. Those factors needs to be inverted, because\r\n      // a lower speed factor, will make the duration longer. For example: 0.5 => 2x duration.\r\n      let fadeInFactor = 1 / (0.5 * 1.5);\r\n\r\n      // Calculates the duration for fading-in and fading-out the ripple.\r\n      tick(enterDuration * fadeInFactor + exitDuration);\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\r\n    }));\r\n\r\n    it('should support changing the animation duration', fakeAsync(() => {\r\n      createTestComponent({\r\n        animation: {enterDuration: 100, exitDuration: 100}\r\n      });\r\n\r\n      rippleDirective.launch(0, 0);\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\r\n\r\n      // Wait the 200ms of the enter duration and exit duration.\r\n      tick(100 + 100);\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\r\n    }));\r\n\r\n    it('should allow ripples to fade out immediately on pointer up', fakeAsync(() => {\r\n      createTestComponent({\r\n        terminateOnPointerUp: true\r\n      });\r\n\r\n      dispatchMouseEvent(rippleTarget, 'mousedown');\r\n      dispatchMouseEvent(rippleTarget, 'mouseup');\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\r\n\r\n      // Ignore the enter duration, because we immediately fired the mouseup after the mousedown.\r\n      // This means that the ripple should just fade out, and there shouldn't be an enter animation.\r\n      tick(exitDuration);\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\r\n\r\n      // Since the enter duration is bigger than the exit duration, the enter duration timer\r\n      // will still exist. To properly finish all timers, we just wait the remaining time.\r\n      tick(enterDuration - exitDuration);\r\n    }));\r\n  });\r\n\r\n  describe('with disabled animations', () => {\r\n    let rippleDirective: MatRipple;\r\n\r\n    beforeEach(() => {\r\n      TestBed.resetTestingModule();\r\n      TestBed.configureTestingModule({\r\n        imports: [NoopAnimationsModule, MatRippleModule],\r\n        declarations: [BasicRippleContainer],\r\n      });\r\n\r\n      fixture = TestBed.createComponent(BasicRippleContainer);\r\n      fixture.detectChanges();\r\n\r\n      rippleTarget = fixture.nativeElement.querySelector('[mat-ripple]');\r\n      rippleDirective = fixture.componentInstance.ripple;\r\n    });\r\n\r\n    it('should set the animation durations to zero', () => {\r\n      expect(rippleDirective.rippleConfig.animation!.enterDuration).toBe(0);\r\n      expect(rippleDirective.rippleConfig.animation!.exitDuration).toBe(0);\r\n    });\r\n  });\r\n\r\n  describe('configuring behavior', () => {\r\n    let controller: RippleContainerWithInputBindings;\r\n\r\n    beforeEach(() => {\r\n      fixture = TestBed.createComponent(RippleContainerWithInputBindings);\r\n      fixture.detectChanges();\r\n\r\n      controller = fixture.debugElement.componentInstance;\r\n      rippleTarget = fixture.debugElement.nativeElement.querySelector('[mat-ripple]');\r\n    });\r\n\r\n    it('sets ripple color', () => {\r\n      const backgroundColor = 'rgba(12, 34, 56, 0.8)';\r\n\r\n      controller.color = backgroundColor;\r\n      fixture.detectChanges();\r\n\r\n      dispatchMouseEvent(rippleTarget, 'mousedown');\r\n      dispatchMouseEvent(rippleTarget, 'mouseup');\r\n\r\n      let ripple = rippleTarget.querySelector('.mat-ripple-element')!;\r\n      expect(window.getComputedStyle(ripple).backgroundColor).toBe(backgroundColor);\r\n    });\r\n\r\n    it('does not respond to events when disabled input is set', () => {\r\n      controller.disabled = true;\r\n      fixture.detectChanges();\r\n\r\n      dispatchMouseEvent(rippleTarget, 'mousedown');\r\n      dispatchMouseEvent(rippleTarget, 'mouseup');\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\r\n\r\n      controller.disabled = false;\r\n      fixture.detectChanges();\r\n\r\n      dispatchMouseEvent(rippleTarget, 'mousedown');\r\n      dispatchMouseEvent(rippleTarget, 'mouseup');\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\r\n    });\r\n\r\n    it('allows specifying custom trigger element', () => {\r\n      let alternateTrigger = fixture.debugElement.nativeElement\r\n        .querySelector('.alternateTrigger') as HTMLElement;\r\n\r\n      dispatchMouseEvent(alternateTrigger, 'mousedown');\r\n      dispatchMouseEvent(alternateTrigger, 'mouseup');\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\r\n\r\n      // Set the trigger element, and now events should create ripples.\r\n      controller.trigger = alternateTrigger;\r\n      fixture.detectChanges();\r\n\r\n      dispatchMouseEvent(alternateTrigger, 'mousedown');\r\n      dispatchMouseEvent(alternateTrigger, 'mouseup');\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\r\n    });\r\n\r\n    it('expands ripple from center if centered input is set', () => {\r\n      controller.centered = true;\r\n      fixture.detectChanges();\r\n\r\n      let elementRect = rippleTarget.getBoundingClientRect();\r\n\r\n      // Click the ripple element 50 px to the right and 75px down from its upper left.\r\n      dispatchMouseEvent(rippleTarget, 'mousedown', 50, 75);\r\n      dispatchMouseEvent(rippleTarget, 'mouseup');\r\n\r\n      // Because the centered input is true, the center of the ripple should be the midpoint of the\r\n      // bounding rect. The ripple should expand to cover the rect corners, which are 150px\r\n      // horizontally and 100px vertically from the midpoint.\r\n      let expectedRadius = Math.sqrt(150 * 150 + 100 * 100);\r\n      let expectedLeft = elementRect.left + (elementRect.width / 2) - expectedRadius;\r\n      let expectedTop = elementRect.top + (elementRect.height / 2) - expectedRadius;\r\n\r\n      let ripple = rippleTarget.querySelector('.mat-ripple-element') as HTMLElement;\r\n\r\n      expect(pxStringToFloat(ripple.style.left)).toBeCloseTo(expectedLeft, 1);\r\n      expect(pxStringToFloat(ripple.style.top)).toBeCloseTo(expectedTop, 1);\r\n      expect(pxStringToFloat(ripple.style.width)).toBeCloseTo(2 * expectedRadius, 1);\r\n      expect(pxStringToFloat(ripple.style.height)).toBeCloseTo(2 * expectedRadius, 1);\r\n    });\r\n\r\n    it('uses custom radius if set', () => {\r\n      let customRadius = 42;\r\n\r\n      controller.radius = customRadius;\r\n      fixture.detectChanges();\r\n\r\n      let elementRect = rippleTarget.getBoundingClientRect();\r\n\r\n      // Click the ripple element 50 px to the right and 75px down from its upper left.\r\n      dispatchMouseEvent(rippleTarget, 'mousedown', 50, 75);\r\n      dispatchMouseEvent(rippleTarget, 'mouseup');\r\n\r\n      let expectedLeft = elementRect.left + 50 - customRadius;\r\n      let expectedTop = elementRect.top + 75 - customRadius;\r\n\r\n      let ripple = rippleTarget.querySelector('.mat-ripple-element') as HTMLElement;\r\n\r\n      expect(pxStringToFloat(ripple.style.left)).toBeCloseTo(expectedLeft, 1);\r\n      expect(pxStringToFloat(ripple.style.top)).toBeCloseTo(expectedTop, 1);\r\n      expect(pxStringToFloat(ripple.style.width)).toBeCloseTo(2 * customRadius, 1);\r\n      expect(pxStringToFloat(ripple.style.height)).toBeCloseTo(2 * customRadius, 1);\r\n    });\r\n\r\n    it('should be able to specify animation config through binding', fakeAsync(() => {\r\n      controller.animationConfig = {enterDuration: 150, exitDuration: 150};\r\n      fixture.detectChanges();\r\n\r\n      dispatchMouseEvent(rippleTarget, 'mousedown');\r\n      dispatchMouseEvent(rippleTarget, 'mouseup');\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\r\n\r\n      tick(150 + 150);\r\n\r\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\r\n    }));\r\n  });\r\n\r\n});\r\n\r\n@Component({\r\n  template: `\r\n    <div id=\"container\" #ripple=\"matRipple\" mat-ripple [matRippleSpeedFactor]=\"0\"\r\n         style=\"position: relative; width:300px; height:200px;\">\r\n    </div>\r\n  `,\r\n})\r\nclass BasicRippleContainer {\r\n  @ViewChild('ripple') ripple: MatRipple;\r\n}\r\n\r\n@Component({\r\n  template: `\r\n    <div id=\"container\" style=\"position: relative; width:300px; height:200px;\"\r\n      mat-ripple\r\n      [matRippleSpeedFactor]=\"0\"\r\n      [matRippleTrigger]=\"trigger\"\r\n      [matRippleCentered]=\"centered\"\r\n      [matRippleRadius]=\"radius\"\r\n      [matRippleDisabled]=\"disabled\"\r\n      [matRippleAnimation]=\"animationConfig\"\r\n      [matRippleColor]=\"color\">\r\n    </div>\r\n    <div class=\"alternateTrigger\"></div>\r\n  `,\r\n})\r\nclass RippleContainerWithInputBindings {\r\n  animationConfig: RippleAnimationConfig;\r\n  trigger: HTMLElement;\r\n  centered = false;\r\n  disabled = false;\r\n  radius = 0;\r\n  color = '';\r\n  @ViewChild(MatRipple) ripple: MatRipple;\r\n}\r\n\r\n@Component({\r\n  template: `<div id=\"container\" #ripple=\"matRipple\" mat-ripple></div>`,\r\n})\r\nclass RippleContainerWithoutBindings {}\r\n\r\n@Component({ template: `<div id=\"container\" mat-ripple [matRippleSpeedFactor]=\"0\"\r\n                             *ngIf=\"!isDestroyed\"></div>` })\r\nclass RippleContainerWithNgIf {\r\n  @ViewChild(MatRipple) ripple: MatRipple;\r\n  isDestroyed = false;\r\n}\r\n"]}