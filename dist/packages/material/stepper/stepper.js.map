{"version":3,"file":"stepper.js","sourceRoot":"","sources":["../../../../src/lib/stepper/stepper.ts"],"names":[],"mappings":"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","sourcesContent":["/**\r\n * @license\r\n * Copyright Google LLC All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://angular.io/license\r\n */\r\n\r\nimport {Directionality} from '@angular/cdk/bidi';\r\nimport {CdkStep, CdkStepper, StepContentPositionState} from '@angular/cdk/stepper';\r\nimport {AnimationEvent} from '@angular/animations';\r\nimport {\r\n  AfterContentInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChild,\r\n  ContentChildren,\r\n  Directive,\r\n  EventEmitter,\r\n  forwardRef,\r\n  Inject,\r\n  Optional,\r\n  Output,\r\n  QueryList,\r\n  SkipSelf,\r\n  TemplateRef,\r\n  ViewChildren,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\nimport {FormControl, FormGroupDirective, NgForm} from '@angular/forms';\r\nimport {ErrorStateMatcher} from '@angular/material/core';\r\nimport {MatStepHeader} from './step-header';\r\nimport {MatStepLabel} from './step-label';\r\nimport {takeUntil} from 'rxjs/operators';\r\nimport {matStepperAnimations} from './stepper-animations';\r\nimport {MatStepperIcon, MatStepperIconContext} from './stepper-icon';\r\n\r\n\r\n@Component({\r\n  moduleId: module.id,\r\n  selector: 'mat-step',\r\n  templateUrl: 'step.html',\r\n  providers: [{provide: ErrorStateMatcher, useExisting: MatStep}],\r\n  encapsulation: ViewEncapsulation.None,\r\n  exportAs: 'matStep',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class MatStep extends CdkStep implements ErrorStateMatcher {\r\n  /** Content for step label given by `<ng-template matStepLabel>`. */\r\n  @ContentChild(MatStepLabel) stepLabel: MatStepLabel;\r\n\r\n  constructor(@Inject(forwardRef(() => MatStepper)) stepper: MatStepper,\r\n              @SkipSelf() private _errorStateMatcher: ErrorStateMatcher) {\r\n    super(stepper);\r\n  }\r\n\r\n  /** Custom error state matcher that additionally checks for validity of interacted form. */\r\n  isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\r\n    const originalErrorState = this._errorStateMatcher.isErrorState(control, form);\r\n\r\n    // Custom error state checks for the validity of form that is not submitted or touched\r\n    // since user can trigger a form change by calling for another step without directly\r\n    // interacting with the current form.\r\n    const customErrorState = !!(control && control.invalid && this.interacted);\r\n\r\n    return originalErrorState || customErrorState;\r\n  }\r\n}\r\n\r\n\r\n@Directive({\r\n  selector: '[matStepper]'\r\n})\r\nexport class MatStepper extends CdkStepper implements AfterContentInit {\r\n  /** The list of step headers of the steps in the stepper. */\r\n  @ViewChildren(MatStepHeader) _stepHeader: QueryList<MatStepHeader>;\r\n\r\n  /** Steps that the stepper holds. */\r\n  @ContentChildren(MatStep) _steps: QueryList<MatStep>;\r\n\r\n  /** Custom icon overrides passed in by the consumer. */\r\n  @ContentChildren(MatStepperIcon) _icons: QueryList<MatStepperIcon>;\r\n\r\n  /** Event emitted when the current step is done transitioning in. */\r\n  @Output() readonly animationDone: EventEmitter<void> = new EventEmitter<void>();\r\n\r\n  /** Consumer-specified template-refs to be used to override the header icons. */\r\n  _iconOverrides: {[key: string]: TemplateRef<MatStepperIconContext>} = {};\r\n\r\n  ngAfterContentInit() {\r\n    const icons = this._icons.toArray();\r\n\r\n    ['edit', 'done', 'number'].forEach(name => {\r\n      const override = icons.find(icon => icon.name === name);\r\n\r\n      if (override) {\r\n        this._iconOverrides[name] = override.templateRef;\r\n      }\r\n    });\r\n\r\n    // Mark the component for change detection whenever the content children query changes\r\n    this._steps.changes.pipe(takeUntil(this._destroyed)).subscribe(() => this._stateChanged());\r\n  }\r\n\r\n  _animationDone(event: AnimationEvent) {\r\n    if ((event.toState as StepContentPositionState) === 'current') {\r\n      this.animationDone.emit();\r\n    }\r\n  }\r\n}\r\n\r\n@Component({\r\n  moduleId: module.id,\r\n  selector: 'mat-horizontal-stepper',\r\n  exportAs: 'matHorizontalStepper',\r\n  templateUrl: 'stepper-horizontal.html',\r\n  styleUrls: ['stepper.css'],\r\n  inputs: ['selectedIndex'],\r\n  host: {\r\n    'class': 'mat-stepper-horizontal',\r\n    'aria-orientation': 'horizontal',\r\n    'role': 'tablist',\r\n  },\r\n  animations: [matStepperAnimations.horizontalStepTransition],\r\n  providers: [{provide: MatStepper, useExisting: MatHorizontalStepper}],\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class MatHorizontalStepper extends MatStepper { }\r\n\r\n@Component({\r\n  moduleId: module.id,\r\n  selector: 'mat-vertical-stepper',\r\n  exportAs: 'matVerticalStepper',\r\n  templateUrl: 'stepper-vertical.html',\r\n  styleUrls: ['stepper.css'],\r\n  inputs: ['selectedIndex'],\r\n  host: {\r\n    'class': 'mat-stepper-vertical',\r\n    'aria-orientation': 'vertical',\r\n    'role': 'tablist',\r\n  },\r\n  animations: [matStepperAnimations.verticalStepTransition],\r\n  providers: [{provide: MatStepper, useExisting: MatVerticalStepper}],\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class MatVerticalStepper extends MatStepper {\r\n  constructor(@Optional() dir: Directionality, changeDetectorRef: ChangeDetectorRef) {\r\n    super(dir, changeDetectorRef);\r\n    this._orientation = 'vertical';\r\n  }\r\n}\r\n"]}